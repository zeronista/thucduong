2025-08-18 11:22:13 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 26184 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:22:13 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:22:13 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:22:13 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 11:22:13 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 11:22:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:22:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:22:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 89 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:22:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:22:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:22:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:22:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:22:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:22:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-18 11:22:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:22:14 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:22:14 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:22:14 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:22:14 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1777 ms
2025-08-18 11:22:15 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@5a7347, com.mongodb.Jep395RecordCodecProvider@1671e855, com.mongodb.KotlinCodecProvider@47ff4f4c]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:22:15 [cluster-ClusterId{value='68a2aa774bb6225b57a5a12c', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=26654700}
2025-08-18 11:22:15 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoIndexConfig' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\config\MongoIndexConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'mongoTemplate' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Unsatisfied dependency expressed through method 'mongoTemplate' parameter 1: Error creating bean with name 'mappingMongoConverter' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Ambiguous factory method matches found on class [com.nepnhaxua.thucduong.config.MongoConfig] (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities): [public org.springframework.data.mongodb.core.convert.MappingMongoConverter com.nepnhaxua.thucduong.config.MongoConfig.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.mapping.MongoMappingContext,org.springframework.data.mongodb.core.convert.MongoCustomConversions), public org.springframework.data.mongodb.core.convert.MappingMongoConverter org.springframework.data.mongodb.config.AbstractMongoClientConfiguration.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.convert.MongoCustomConversions,org.springframework.data.mongodb.core.mapping.MongoMappingContext)]
2025-08-18 11:22:15 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-18 11:22:15 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-18 11:22:15 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoIndexConfig' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\config\MongoIndexConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'mongoTemplate' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Unsatisfied dependency expressed through method 'mongoTemplate' parameter 1: Error creating bean with name 'mappingMongoConverter' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Ambiguous factory method matches found on class [com.nepnhaxua.thucduong.config.MongoConfig] (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities): [public org.springframework.data.mongodb.core.convert.MappingMongoConverter com.nepnhaxua.thucduong.config.MongoConfig.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.mapping.MongoMappingContext,org.springframework.data.mongodb.core.convert.MongoCustomConversions), public org.springframework.data.mongodb.core.convert.MappingMongoConverter org.springframework.data.mongodb.config.AbstractMongoClientConfiguration.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.convert.MongoCustomConversions,org.springframework.data.mongodb.core.mapping.MongoMappingContext)]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:323)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoTemplate' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Unsatisfied dependency expressed through method 'mongoTemplate' parameter 1: Error creating bean with name 'mappingMongoConverter' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Ambiguous factory method matches found on class [com.nepnhaxua.thucduong.config.MongoConfig] (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities): [public org.springframework.data.mongodb.core.convert.MappingMongoConverter com.nepnhaxua.thucduong.config.MongoConfig.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.mapping.MongoMappingContext,org.springframework.data.mongodb.core.convert.MongoCustomConversions), public org.springframework.data.mongodb.core.convert.MappingMongoConverter org.springframework.data.mongodb.config.AbstractMongoClientConfiguration.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.convert.MongoCustomConversions,org.springframework.data.mongodb.core.mapping.MongoMappingContext)]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mappingMongoConverter' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Ambiguous factory method matches found on class [com.nepnhaxua.thucduong.config.MongoConfig] (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities): [public org.springframework.data.mongodb.core.convert.MappingMongoConverter com.nepnhaxua.thucduong.config.MongoConfig.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.mapping.MongoMappingContext,org.springframework.data.mongodb.core.convert.MongoCustomConversions), public org.springframework.data.mongodb.core.convert.MappingMongoConverter org.springframework.data.mongodb.config.AbstractMongoClientConfiguration.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.convert.MongoCustomConversions,org.springframework.data.mongodb.core.mapping.MongoMappingContext)]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:632)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 36 common frames omitted
2025-08-18 11:23:15 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 28520 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:23:15 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:23:15 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:23:15 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 11:23:15 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 11:23:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:23:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:23:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 102 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:23:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:23:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:23:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:23:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:23:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:23:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-08-18 11:23:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:23:16 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:23:16 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:23:17 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:23:17 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1652 ms
2025-08-18 11:23:17 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@1738141c, com.mongodb.Jep395RecordCodecProvider@6df31eb9, com.mongodb.KotlinCodecProvider@7443d21e]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:23:17 [cluster-ClusterId{value='68a2aab539a51c250477e5d7', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=17035100}
2025-08-18 11:23:17 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoIndexConfig' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\config\MongoIndexConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'mongoTemplate' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Unsatisfied dependency expressed through method 'mongoTemplate' parameter 1: Error creating bean with name 'mappingMongoConverter' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Ambiguous factory method matches found on class [com.nepnhaxua.thucduong.config.MongoConfig] (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities): [public org.springframework.data.mongodb.core.convert.MappingMongoConverter com.nepnhaxua.thucduong.config.MongoConfig.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.mapping.MongoMappingContext,org.springframework.data.mongodb.core.convert.MongoCustomConversions), public org.springframework.data.mongodb.core.convert.MappingMongoConverter org.springframework.data.mongodb.config.AbstractMongoClientConfiguration.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.convert.MongoCustomConversions,org.springframework.data.mongodb.core.mapping.MongoMappingContext)]
2025-08-18 11:23:17 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-18 11:23:17 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-18 11:23:17 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoIndexConfig' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\config\MongoIndexConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'mongoTemplate' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Unsatisfied dependency expressed through method 'mongoTemplate' parameter 1: Error creating bean with name 'mappingMongoConverter' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Ambiguous factory method matches found on class [com.nepnhaxua.thucduong.config.MongoConfig] (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities): [public org.springframework.data.mongodb.core.convert.MappingMongoConverter com.nepnhaxua.thucduong.config.MongoConfig.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.mapping.MongoMappingContext,org.springframework.data.mongodb.core.convert.MongoCustomConversions), public org.springframework.data.mongodb.core.convert.MappingMongoConverter org.springframework.data.mongodb.config.AbstractMongoClientConfiguration.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.convert.MongoCustomConversions,org.springframework.data.mongodb.core.mapping.MongoMappingContext)]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:323)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoTemplate' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Unsatisfied dependency expressed through method 'mongoTemplate' parameter 1: Error creating bean with name 'mappingMongoConverter' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Ambiguous factory method matches found on class [com.nepnhaxua.thucduong.config.MongoConfig] (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities): [public org.springframework.data.mongodb.core.convert.MappingMongoConverter com.nepnhaxua.thucduong.config.MongoConfig.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.mapping.MongoMappingContext,org.springframework.data.mongodb.core.convert.MongoCustomConversions), public org.springframework.data.mongodb.core.convert.MappingMongoConverter org.springframework.data.mongodb.config.AbstractMongoClientConfiguration.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.convert.MongoCustomConversions,org.springframework.data.mongodb.core.mapping.MongoMappingContext)]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mappingMongoConverter' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Ambiguous factory method matches found on class [com.nepnhaxua.thucduong.config.MongoConfig] (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities): [public org.springframework.data.mongodb.core.convert.MappingMongoConverter com.nepnhaxua.thucduong.config.MongoConfig.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.mapping.MongoMappingContext,org.springframework.data.mongodb.core.convert.MongoCustomConversions), public org.springframework.data.mongodb.core.convert.MappingMongoConverter org.springframework.data.mongodb.config.AbstractMongoClientConfiguration.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.convert.MongoCustomConversions,org.springframework.data.mongodb.core.mapping.MongoMappingContext)]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:632)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 36 common frames omitted
2025-08-18 11:23:23 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 4508 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:23:23 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:23:23 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:23:23 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 11:23:23 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 11:23:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:23:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:23:23 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:23:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:23:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:23:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:23:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:23:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:23:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-08-18 11:23:24 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:23:24 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:23:24 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:23:24 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:23:24 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1451 ms
2025-08-18 11:23:24 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@4b1462be, com.mongodb.Jep395RecordCodecProvider@59acd430, com.mongodb.KotlinCodecProvider@111ca535]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:23:24 [cluster-ClusterId{value='68a2aabcaaacd605241435bb', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=13721200}
2025-08-18 11:23:24 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoIndexConfig' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\config\MongoIndexConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'mongoTemplate' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Unsatisfied dependency expressed through method 'mongoTemplate' parameter 1: Error creating bean with name 'mappingMongoConverter' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Ambiguous factory method matches found on class [com.nepnhaxua.thucduong.config.MongoConfig] (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities): [public org.springframework.data.mongodb.core.convert.MappingMongoConverter com.nepnhaxua.thucduong.config.MongoConfig.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.mapping.MongoMappingContext,org.springframework.data.mongodb.core.convert.MongoCustomConversions), public org.springframework.data.mongodb.core.convert.MappingMongoConverter org.springframework.data.mongodb.config.AbstractMongoClientConfiguration.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.convert.MongoCustomConversions,org.springframework.data.mongodb.core.mapping.MongoMappingContext)]
2025-08-18 11:23:24 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-18 11:23:24 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-18 11:23:25 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoIndexConfig' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\config\MongoIndexConfig.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'mongoTemplate' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Unsatisfied dependency expressed through method 'mongoTemplate' parameter 1: Error creating bean with name 'mappingMongoConverter' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Ambiguous factory method matches found on class [com.nepnhaxua.thucduong.config.MongoConfig] (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities): [public org.springframework.data.mongodb.core.convert.MappingMongoConverter com.nepnhaxua.thucduong.config.MongoConfig.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.mapping.MongoMappingContext,org.springframework.data.mongodb.core.convert.MongoCustomConversions), public org.springframework.data.mongodb.core.convert.MappingMongoConverter org.springframework.data.mongodb.config.AbstractMongoClientConfiguration.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.convert.MongoCustomConversions,org.springframework.data.mongodb.core.mapping.MongoMappingContext)]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:323)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mongoTemplate' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Unsatisfied dependency expressed through method 'mongoTemplate' parameter 1: Error creating bean with name 'mappingMongoConverter' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Ambiguous factory method matches found on class [com.nepnhaxua.thucduong.config.MongoConfig] (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities): [public org.springframework.data.mongodb.core.convert.MappingMongoConverter com.nepnhaxua.thucduong.config.MongoConfig.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.mapping.MongoMappingContext,org.springframework.data.mongodb.core.convert.MongoCustomConversions), public org.springframework.data.mongodb.core.convert.MappingMongoConverter org.springframework.data.mongodb.config.AbstractMongoClientConfiguration.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.convert.MongoCustomConversions,org.springframework.data.mongodb.core.mapping.MongoMappingContext)]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:546)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mappingMongoConverter' defined in class path resource [com/nepnhaxua/thucduong/config/MongoConfig.class]: Ambiguous factory method matches found on class [com.nepnhaxua.thucduong.config.MongoConfig] (hint: specify index/type/name arguments for simple parameters to avoid type ambiguities): [public org.springframework.data.mongodb.core.convert.MappingMongoConverter com.nepnhaxua.thucduong.config.MongoConfig.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.mapping.MongoMappingContext,org.springframework.data.mongodb.core.convert.MongoCustomConversions), public org.springframework.data.mongodb.core.convert.MappingMongoConverter org.springframework.data.mongodb.config.AbstractMongoClientConfiguration.mappingMongoConverter(org.springframework.data.mongodb.MongoDatabaseFactory,org.springframework.data.mongodb.core.convert.MongoCustomConversions,org.springframework.data.mongodb.core.mapping.MongoMappingContext)]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:632)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 36 common frames omitted
2025-08-18 11:27:46 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 21608 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:27:46 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:27:46 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:27:46 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 11:27:46 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 11:27:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:27:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:27:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 83 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:27:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:27:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:27:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:27:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:27:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:27:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-08-18 11:27:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:27:48 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:27:48 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:27:48 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:27:48 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1570 ms
2025-08-18 11:27:48 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6d6a1033, com.mongodb.Jep395RecordCodecProvider@69ee96fa, com.mongodb.KotlinCodecProvider@2f1afd85]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:27:48 [cluster-ClusterId{value='68a2abc4a151740c615c6940', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:27:48 [cluster-ClusterId{value='68a2abc4a151740c615c6940', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:27:48 [cluster-ClusterId{value='68a2abc4a151740c615c6940', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:27:48 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 11:27:48 [cluster-ClusterId{value='68a2abc4a151740c615c6940', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=236495100, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:27:49 GMT+07:00 2025, lastUpdateTimeNanos=44706781543200}
2025-08-18 11:27:48 [cluster-ClusterId{value='68a2abc4a151740c615c6940', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=232004600, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:27:49 GMT+07:00 2025, lastUpdateTimeNanos=44706781543100}
2025-08-18 11:27:48 [cluster-ClusterId{value='68a2abc4a151740c615c6940', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=231798000, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:27:49 GMT+07:00 2025, lastUpdateTimeNanos=44706781543100}
2025-08-18 11:27:48 [cluster-ClusterId{value='68a2abc4a151740c615c6940', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:27:48 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'healthMapController' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\controller\HealthMapController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bodyHealthMapService' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\service\BodyHealthMapService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'productRepository' defined in com.nepnhaxua.thucduong.repository.ProductRepository defined in @EnableMongoRepositories declared on MongoConfig: Could not create query for public abstract org.springframework.data.domain.Page com.nepnhaxua.thucduong.repository.ProductRepository.searchProductsWithScore(java.lang.String,org.springframework.data.domain.Pageable); Reason: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
2025-08-18 11:27:49 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-18 11:27:49 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-18 11:27:49 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'healthMapController' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\controller\HealthMapController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bodyHealthMapService' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\service\BodyHealthMapService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'productRepository' defined in com.nepnhaxua.thucduong.repository.ProductRepository defined in @EnableMongoRepositories declared on MongoConfig: Could not create query for public abstract org.springframework.data.domain.Page com.nepnhaxua.thucduong.repository.ProductRepository.searchProductsWithScore(java.lang.String,org.springframework.data.domain.Pageable); Reason: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:323)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bodyHealthMapService' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\service\BodyHealthMapService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'productRepository' defined in com.nepnhaxua.thucduong.repository.ProductRepository defined in @EnableMongoRepositories declared on MongoConfig: Could not create query for public abstract org.springframework.data.domain.Page com.nepnhaxua.thucduong.repository.ProductRepository.searchProductsWithScore(java.lang.String,org.springframework.data.domain.Pageable); Reason: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in com.nepnhaxua.thucduong.repository.ProductRepository defined in @EnableMongoRepositories declared on MongoConfig: Could not create query for public abstract org.springframework.data.domain.Page com.nepnhaxua.thucduong.repository.ProductRepository.searchProductsWithScore(java.lang.String,org.springframework.data.domain.Pageable); Reason: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1775)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 36 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.nepnhaxua.thucduong.repository.ProductRepository.searchProductsWithScore(java.lang.String,org.springframework.data.domain.Pageable); Reason: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean.afterPropertiesSet(MongoRepositoryFactoryBean.java:101)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771)
	... 47 common frames omitted
Caused by: org.springframework.data.mongodb.InvalidMongoDbApiUsageException: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
	at org.springframework.data.mongodb.repository.query.StringBasedAggregation.<init>(StringBasedAggregation.java:72)
	at org.springframework.data.mongodb.repository.support.MongoRepositoryFactory$MongoQueryLookupStrategy.resolveQuery(MongoRepositoryFactory.java:203)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)
	... 59 common frames omitted
2025-08-18 11:28:59 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 28836 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:28:59 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:28:59 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:28:59 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 11:28:59 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 11:29:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:29:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:29:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 79 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:29:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:29:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:29:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:29:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:29:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:29:00 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-08-18 11:29:01 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:29:01 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:29:01 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:29:01 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:29:01 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1417 ms
2025-08-18 11:29:01 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@627c983c, com.mongodb.Jep395RecordCodecProvider@4f0793a8, com.mongodb.KotlinCodecProvider@7732289f]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:29:01 [cluster-ClusterId{value='68a2ac0d43e34b68fc4c9176', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:29:01 [cluster-ClusterId{value='68a2ac0d43e34b68fc4c9176', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:29:01 [cluster-ClusterId{value='68a2ac0d43e34b68fc4c9176', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:29:01 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 11:29:01 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'healthMapController' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\controller\HealthMapController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bodyHealthMapService' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\service\BodyHealthMapService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'productRepository' defined in com.nepnhaxua.thucduong.repository.ProductRepository defined in @EnableMongoRepositories declared on MongoConfig: Could not create query for public abstract org.springframework.data.domain.Page com.nepnhaxua.thucduong.repository.ProductRepository.searchProductsWithScore(java.lang.String,org.springframework.data.domain.Pageable); Reason: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
2025-08-18 11:29:01 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-18 11:29:01 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-18 11:29:01 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'healthMapController' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\controller\HealthMapController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bodyHealthMapService' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\service\BodyHealthMapService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'productRepository' defined in com.nepnhaxua.thucduong.repository.ProductRepository defined in @EnableMongoRepositories declared on MongoConfig: Could not create query for public abstract org.springframework.data.domain.Page com.nepnhaxua.thucduong.repository.ProductRepository.searchProductsWithScore(java.lang.String,org.springframework.data.domain.Pageable); Reason: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:323)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bodyHealthMapService' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\service\BodyHealthMapService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'productRepository' defined in com.nepnhaxua.thucduong.repository.ProductRepository defined in @EnableMongoRepositories declared on MongoConfig: Could not create query for public abstract org.springframework.data.domain.Page com.nepnhaxua.thucduong.repository.ProductRepository.searchProductsWithScore(java.lang.String,org.springframework.data.domain.Pageable); Reason: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in com.nepnhaxua.thucduong.repository.ProductRepository defined in @EnableMongoRepositories declared on MongoConfig: Could not create query for public abstract org.springframework.data.domain.Page com.nepnhaxua.thucduong.repository.ProductRepository.searchProductsWithScore(java.lang.String,org.springframework.data.domain.Pageable); Reason: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1775)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 36 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.nepnhaxua.thucduong.repository.ProductRepository.searchProductsWithScore(java.lang.String,org.springframework.data.domain.Pageable); Reason: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean.afterPropertiesSet(MongoRepositoryFactoryBean.java:101)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771)
	... 47 common frames omitted
Caused by: org.springframework.data.mongodb.InvalidMongoDbApiUsageException: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
	at org.springframework.data.mongodb.repository.query.StringBasedAggregation.<init>(StringBasedAggregation.java:72)
	at org.springframework.data.mongodb.repository.support.MongoRepositoryFactory$MongoQueryLookupStrategy.resolveQuery(MongoRepositoryFactory.java:203)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)
	... 59 common frames omitted
2025-08-18 11:35:13 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 28440 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:35:13 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:35:13 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:35:13 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 11:35:13 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 11:35:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:35:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:35:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 79 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:35:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:35:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:35:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:35:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:35:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:35:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2025-08-18 11:35:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:35:14 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:35:14 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:35:14 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:35:14 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1414 ms
2025-08-18 11:35:14 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@73042fd6, com.mongodb.Jep395RecordCodecProvider@4afc1396, com.mongodb.KotlinCodecProvider@7c17f28a]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:35:15 [cluster-ClusterId{value='68a2ad821a220909e0ad2f18', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:35:15 [cluster-ClusterId{value='68a2ad821a220909e0ad2f18', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:35:15 [cluster-ClusterId{value='68a2ad821a220909e0ad2f18', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:35:15 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 11:35:15 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'healthMapController' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\controller\HealthMapController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bodyHealthMapService' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\service\BodyHealthMapService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'productRepository' defined in com.nepnhaxua.thucduong.repository.ProductRepository defined in @EnableMongoRepositories declared on MongoConfig: Could not create query for public abstract org.springframework.data.domain.Page com.nepnhaxua.thucduong.repository.ProductRepository.searchProductsWithScore(java.lang.String,org.springframework.data.domain.Pageable); Reason: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
2025-08-18 11:35:15 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-18 11:35:15 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-18 11:35:15 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'healthMapController' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\controller\HealthMapController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'bodyHealthMapService' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\service\BodyHealthMapService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'productRepository' defined in com.nepnhaxua.thucduong.repository.ProductRepository defined in @EnableMongoRepositories declared on MongoConfig: Could not create query for public abstract org.springframework.data.domain.Page com.nepnhaxua.thucduong.repository.ProductRepository.searchProductsWithScore(java.lang.String,org.springframework.data.domain.Pageable); Reason: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:323)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'bodyHealthMapService' defined in file [C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes\com\nepnhaxua\thucduong\service\BodyHealthMapService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'productRepository' defined in com.nepnhaxua.thucduong.repository.ProductRepository defined in @EnableMongoRepositories declared on MongoConfig: Could not create query for public abstract org.springframework.data.domain.Page com.nepnhaxua.thucduong.repository.ProductRepository.searchProductsWithScore(java.lang.String,org.springframework.data.domain.Pageable); Reason: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:802)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:241)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in com.nepnhaxua.thucduong.repository.ProductRepository defined in @EnableMongoRepositories declared on MongoConfig: Could not create query for public abstract org.springframework.data.domain.Page com.nepnhaxua.thucduong.repository.ProductRepository.searchProductsWithScore(java.lang.String,org.springframework.data.domain.Pageable); Reason: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1775)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1441)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1348)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789)
	... 36 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.nepnhaxua.thucduong.repository.ProductRepository.searchProductsWithScore(java.lang.String,org.springframework.data.domain.Pageable); Reason: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:115)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:88)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:88)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:357)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:279)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:285)
	at org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean.afterPropertiesSet(MongoRepositoryFactoryBean.java:101)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771)
	... 47 common frames omitted
Caused by: org.springframework.data.mongodb.InvalidMongoDbApiUsageException: Repository aggregation method 'searchProductsWithScore' does not support 'Page' return type; Please use 'Slice' or 'List' instead
	at org.springframework.data.mongodb.repository.query.StringBasedAggregation.<init>(StringBasedAggregation.java:72)
	at org.springframework.data.mongodb.repository.support.MongoRepositoryFactory$MongoQueryLookupStrategy.resolveQuery(MongoRepositoryFactory.java:203)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)
	... 59 common frames omitted
2025-08-18 11:44:10 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 15824 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:44:10 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:44:10 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:44:11 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 11:44:11 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 11:44:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:44:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:44:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 90 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:44:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:44:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:44:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:44:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:44:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:44:11 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-08-18 11:44:12 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:44:12 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:44:12 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:44:12 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:44:12 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1487 ms
2025-08-18 11:44:12 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6f08dccb, com.mongodb.Jep395RecordCodecProvider@307f5e49, com.mongodb.KotlinCodecProvider@55f4768d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:44:12 [cluster-ClusterId{value='68a2af9c5ef97b2c8e7b34f4', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:44:12 [cluster-ClusterId{value='68a2af9c5ef97b2c8e7b34f4', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:44:12 [cluster-ClusterId{value='68a2af9c5ef97b2c8e7b34f4', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:44:12 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 11:44:13 [cluster-ClusterId{value='68a2af9c5ef97b2c8e7b34f4', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=240906400, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:44:13 GMT+07:00 2025, lastUpdateTimeNanos=45691096988300}
2025-08-18 11:44:13 [cluster-ClusterId{value='68a2af9c5ef97b2c8e7b34f4', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=239439800, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:44:13 GMT+07:00 2025, lastUpdateTimeNanos=45691096988200}
2025-08-18 11:44:13 [cluster-ClusterId{value='68a2af9c5ef97b2c8e7b34f4', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=237652700, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:44:13 GMT+07:00 2025, lastUpdateTimeNanos=45691097022300}
2025-08-18 11:44:13 [cluster-ClusterId{value='68a2af9c5ef97b2c8e7b34f4', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:44:13 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 8aa8c7d8-8dd6-43cd-b4fc-1d03562ec9e3

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 11:44:13 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/nepnhaxua/thucduong/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'rootController' method 
com.nepnhaxua.thucduong.controller.RootController#ping()
to {GET [/]}: There is already 'pageController' bean method
com.nepnhaxua.thucduong.controller.PageController#homepage(Model) mapped.
2025-08-18 11:44:13 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-18 11:44:13 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-18 11:44:13 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/nepnhaxua/thucduong/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'rootController' method 
com.nepnhaxua.thucduong.controller.RootController#ping()
to {GET [/]}: There is already 'pageController' bean method
com.nepnhaxua.thucduong.controller.PageController#homepage(Model) mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:643)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1166)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:946)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:616)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:455)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:323)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'rootController' method 
com.nepnhaxua.thucduong.controller.RootController#ping()
to {GET [/]}: There is already 'pageController' bean method
com.nepnhaxua.thucduong.controller.PageController#homepage(Model) mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:178)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651)
	... 22 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'rootController' method 
com.nepnhaxua.thucduong.controller.RootController#ping()
to {GET [/]}: There is already 'pageController' bean method
com.nepnhaxua.thucduong.controller.PageController#homepage(Model) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1775)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1179)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.createMvcMatchers(AbstractRequestMatcherRegistry.java:116)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:207)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:360)
	at com.nepnhaxua.thucduong.config.SecurityConfig.lambda$2(SecurityConfig.java:31)
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.authorizeHttpRequests(HttpSecurity.java:1467)
	at com.nepnhaxua.thucduong.config.SecurityConfig.securityFilterChain(SecurityConfig.java:29)
	at com.nepnhaxua.thucduong.config.SecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$1(<generated>)
	at com.nepnhaxua.thucduong.config.SecurityConfig$$SpringCGLIB$$FastClass$$1.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.nepnhaxua.thucduong.config.SecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:140)
	... 23 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'rootController' method 
com.nepnhaxua.thucduong.controller.RootController#ping()
to {GET [/]}: There is already 'pageController' bean method
com.nepnhaxua.thucduong.controller.PageController#homepage(Model) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1775)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:663)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1327)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:130)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:118)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771)
	... 44 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'rootController' method 
com.nepnhaxua.thucduong.controller.RootController#ping()
to {GET [/]}: There is already 'pageController' bean method
com.nepnhaxua.thucduong.controller.PageController#homepage(Model) mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:486)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:79)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:987)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:233)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1771)
	... 57 common frames omitted
2025-08-18 11:46:03 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 2748 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:46:03 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:46:03 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:46:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 11:46:03 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 11:46:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:46:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:46:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 83 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:46:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:46:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:46:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:46:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:46:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:46:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-08-18 11:46:05 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:46:05 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:46:05 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:46:05 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:46:05 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1500 ms
2025-08-18 11:46:05 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6f08dccb, com.mongodb.Jep395RecordCodecProvider@307f5e49, com.mongodb.KotlinCodecProvider@55f4768d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:46:05 [cluster-ClusterId{value='68a2b00dd1c22545cd69020b', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:46:05 [cluster-ClusterId{value='68a2b00dd1c22545cd69020b', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:46:05 [cluster-ClusterId{value='68a2b00dd1c22545cd69020b', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:46:05 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 11:46:05 [cluster-ClusterId{value='68a2b00dd1c22545cd69020b', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=220722300, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:46:06 GMT+07:00 2025, lastUpdateTimeNanos=45803731320100}
2025-08-18 11:46:05 [cluster-ClusterId{value='68a2b00dd1c22545cd69020b', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=222735300, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:46:06 GMT+07:00 2025, lastUpdateTimeNanos=45803731320100}
2025-08-18 11:46:05 [cluster-ClusterId{value='68a2b00dd1c22545cd69020b', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=226038100, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:46:06 GMT+07:00 2025, lastUpdateTimeNanos=45803731320100}
2025-08-18 11:46:05 [cluster-ClusterId{value='68a2b00dd1c22545cd69020b', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:46:06 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 22f577a3-31d7-4973-bf55-302ddf7f47cf

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 11:46:06 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 11:46:06 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@49932183, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@695e9ad, org.springframework.security.web.context.SecurityContextHolderFilter@4a399fb, org.springframework.security.web.header.HeaderWriterFilter@7073c19b, org.springframework.web.filter.CorsFilter@1d02daf5, org.springframework.security.web.authentication.logout.LogoutFilter@38823c6c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f48e088, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1505137b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44569efb, org.springframework.security.web.session.SessionManagementFilter@2cd57d4, org.springframework.security.web.access.ExceptionTranslationFilter@5e8e7209, org.springframework.security.web.access.intercept.AuthorizationFilter@260d2894]
2025-08-18 11:46:06 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-18 11:46:06 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 3.629 seconds (process running for 3.964)
2025-08-18 11:46:06 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 11:46:07 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 11:46:07 [restartedMain] ERROR c.n.t.config.MongoIndexConfig - Error creating MongoDB indexes
org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755492367, "i": 16}}, "signature": {"hash": {"$binary": {"base64": "htAevywMcaQ6t3/DCbpy9qIzFvA=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755492367, "i": 16}}}
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135)
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2993)
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.execute(DefaultIndexOperations.java:215)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.ensureIndex(DefaultIndexOperations.java:119)
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.createProductIndexes(MongoIndexConfig.java:128)
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.lambda$0(MongoIndexConfig.java:33)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mongodb.MongoCommandException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755492367, "i": 16}}, "signature": {"hash": {"$binary": {"base64": "htAevywMcaQ6t3/DCbpy9qIzFvA=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755492367, "i": 16}}}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:454)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:372)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:765)
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:76)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:209)
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:115)
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:83)
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74)
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:299)
	at com.mongodb.internal.operation.SyncOperationHelper.executeCommand(SyncOperationHelper.java:210)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$execute$0(CreateIndexesOperation.java:131)
	at com.mongodb.internal.operation.SyncOperationHelper.withConnectionSource(SyncOperationHelper.java:163)
	at com.mongodb.internal.operation.SyncOperationHelper.withConnection(SyncOperationHelper.java:108)
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:129)
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:68)
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:173)
	at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:913)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:896)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:891)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:876)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.lambda$ensureIndex$0(DefaultIndexOperations.java:129)
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:601)
	... 22 common frames omitted
2025-08-18 11:48:29 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-18 11:48:30 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 2748 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:48:30 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:48:30 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:48:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:48:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:48:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:48:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:48:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:48:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:48:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:48:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:48:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-08-18 11:48:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:48:31 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:48:31 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:48:31 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:48:31 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 496 ms
2025-08-18 11:48:31 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6f08dccb, com.mongodb.Jep395RecordCodecProvider@307f5e49, com.mongodb.KotlinCodecProvider@55f4768d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:48:31 [cluster-ClusterId{value='68a2b09fd1c22545cd69020c', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:48:31 [cluster-ClusterId{value='68a2b09fd1c22545cd69020c', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:48:31 [cluster-ClusterId{value='68a2b09fd1c22545cd69020c', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:48:31 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 11:48:31 [cluster-ClusterId{value='68a2b09fd1c22545cd69020c', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=68145200, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:48:31 GMT+07:00 2025, lastUpdateTimeNanos=45949598529600}
2025-08-18 11:48:31 [cluster-ClusterId{value='68a2b09fd1c22545cd69020c', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=95044700, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:48:32 GMT+07:00 2025, lastUpdateTimeNanos=45949622978700}
2025-08-18 11:48:31 [cluster-ClusterId{value='68a2b09fd1c22545cd69020c', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=97907700, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:48:32 GMT+07:00 2025, lastUpdateTimeNanos=45949627750200}
2025-08-18 11:48:31 [cluster-ClusterId{value='68a2b09fd1c22545cd69020c', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:48:31 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: ddc904de-254e-4deb-a677-d1612045ad51

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 11:48:32 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 11:48:32 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@38b160d7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65ef0ca2, org.springframework.security.web.context.SecurityContextHolderFilter@60e794d6, org.springframework.security.web.header.HeaderWriterFilter@14e372b8, org.springframework.web.filter.CorsFilter@67d41e20, org.springframework.security.web.authentication.logout.LogoutFilter@4ffc3f4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64df0fd5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ba6c744, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@74606a48, org.springframework.security.web.session.SessionManagementFilter@46ed2770, org.springframework.security.web.access.ExceptionTranslationFilter@2c651b24, org.springframework.security.web.access.intercept.AuthorizationFilter@14e5727b]
2025-08-18 11:48:32 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-18 11:48:32 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 1.303 seconds (process running for 149.365)
2025-08-18 11:48:32 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 11:48:32 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 11:48:32 [restartedMain] ERROR c.n.t.config.MongoIndexConfig - Error creating MongoDB indexes
org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755492512, "i": 7}}, "signature": {"hash": {"$binary": {"base64": "6gqiX62FDVLQuJyZnTOxVTts6oc=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755492512, "i": 7}}}
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2993) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.execute(DefaultIndexOperations.java:215) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.ensureIndex(DefaultIndexOperations.java:119) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.createProductIndexes(MongoIndexConfig.java:128) ~[classes/:na]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.lambda$0(MongoIndexConfig.java:33) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770) ~[spring-boot-3.2.0.jar:3.2.0]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.0.jar:3.2.0]
Caused by: com.mongodb.MongoCommandException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755492512, "i": 7}}, "signature": {"hash": {"$binary": {"base64": "6gqiX62FDVLQuJyZnTOxVTts6oc=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755492512, "i": 7}}}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:454) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:372) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:765) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:76) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:209) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:115) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:83) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:299) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.executeCommand(SyncOperationHelper.java:210) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$execute$0(CreateIndexesOperation.java:131) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnectionSource(SyncOperationHelper.java:163) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnection(SyncOperationHelper.java:108) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:129) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:68) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:173) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:913) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:896) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:891) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:876) ~[mongodb-driver-sync-4.11.1.jar:na]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.lambda$ensureIndex$0(DefaultIndexOperations.java:129) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:601) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	... 22 common frames omitted
2025-08-18 11:48:32 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-18 11:48:33 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-18 11:48:34 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 2748 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:48:34 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:48:34 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:48:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:48:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:48:34 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:48:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:48:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:48:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:48:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:48:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:48:35 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-08-18 11:48:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:48:35 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:48:35 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:48:35 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:48:35 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 331 ms
2025-08-18 11:48:35 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6f08dccb, com.mongodb.Jep395RecordCodecProvider@307f5e49, com.mongodb.KotlinCodecProvider@55f4768d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:48:35 [cluster-ClusterId{value='68a2b0a3d1c22545cd69020d', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:48:35 [cluster-ClusterId{value='68a2b0a3d1c22545cd69020d', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:48:35 [cluster-ClusterId{value='68a2b0a3d1c22545cd69020d', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:48:35 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 11:48:35 [cluster-ClusterId{value='68a2b0a3d1c22545cd69020d', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=51674700, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:48:35 GMT+07:00 2025, lastUpdateTimeNanos=45953136950000}
2025-08-18 11:48:35 [cluster-ClusterId{value='68a2b0a3d1c22545cd69020d', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=57411700, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:48:35 GMT+07:00 2025, lastUpdateTimeNanos=45953145638100}
2025-08-18 11:48:35 [cluster-ClusterId{value='68a2b0a3d1c22545cd69020d', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:48:35 [cluster-ClusterId{value='68a2b0a3d1c22545cd69020d', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=96575600, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:48:35 GMT+07:00 2025, lastUpdateTimeNanos=45953186984100}
2025-08-18 11:48:35 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: dd935e4b-69ad-4d17-b8ad-0d721cb62150

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 11:48:35 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 11:48:35 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@502c0c3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a3e9efe, org.springframework.security.web.context.SecurityContextHolderFilter@194f8583, org.springframework.security.web.header.HeaderWriterFilter@7862f0fb, org.springframework.web.filter.CorsFilter@7a69cc35, org.springframework.security.web.authentication.logout.LogoutFilter@417dcdd0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ecb3f87, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71c1e18d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43f120db, org.springframework.security.web.session.SessionManagementFilter@7c953f53, org.springframework.security.web.access.ExceptionTranslationFilter@3f170297, org.springframework.security.web.access.intercept.AuthorizationFilter@783ea1aa]
2025-08-18 11:48:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-18 11:48:35 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 0.976 seconds (process running for 152.858)
2025-08-18 11:48:35 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 11:48:35 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 11:48:36 [restartedMain] ERROR c.n.t.config.MongoIndexConfig - Error creating MongoDB indexes
org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755492516, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "2HUPpLFNt8CKHPPkoijE1mkCAeA=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755492516, "i": 1}}}
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2993) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.execute(DefaultIndexOperations.java:215) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.ensureIndex(DefaultIndexOperations.java:119) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.createProductIndexes(MongoIndexConfig.java:128) ~[classes/:na]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.lambda$0(MongoIndexConfig.java:33) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770) ~[spring-boot-3.2.0.jar:3.2.0]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.0.jar:3.2.0]
Caused by: com.mongodb.MongoCommandException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755492516, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "2HUPpLFNt8CKHPPkoijE1mkCAeA=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755492516, "i": 1}}}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:454) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:372) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:765) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:76) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:209) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:115) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:83) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:299) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.executeCommand(SyncOperationHelper.java:210) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$execute$0(CreateIndexesOperation.java:131) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnectionSource(SyncOperationHelper.java:163) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnection(SyncOperationHelper.java:108) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:129) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:68) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:173) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:913) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:896) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:891) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:876) ~[mongodb-driver-sync-4.11.1.jar:na]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.lambda$ensureIndex$0(DefaultIndexOperations.java:129) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:601) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	... 22 common frames omitted
2025-08-18 11:48:36 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-18 11:49:12 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-08-18 11:49:13 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 2748 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:49:13 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:49:13 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:49:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:49:13 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:49:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:49:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:49:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:49:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:49:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:49:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:49:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-08-18 11:49:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:49:14 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:49:14 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:49:14 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:49:14 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 330 ms
2025-08-18 11:49:14 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6f08dccb, com.mongodb.Jep395RecordCodecProvider@307f5e49, com.mongodb.KotlinCodecProvider@55f4768d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:49:14 [cluster-ClusterId{value='68a2b0cad1c22545cd69020e', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:49:14 [cluster-ClusterId{value='68a2b0cad1c22545cd69020e', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:49:14 [cluster-ClusterId{value='68a2b0cad1c22545cd69020e', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:49:14 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 11:49:14 [cluster-ClusterId{value='68a2b0cad1c22545cd69020e', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=92879800, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:49:14 GMT+07:00 2025, lastUpdateTimeNanos=45992248607400}
2025-08-18 11:49:14 [cluster-ClusterId{value='68a2b0cad1c22545cd69020e', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:49:14 [cluster-ClusterId{value='68a2b0cad1c22545cd69020e', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=74142500, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:49:14 GMT+07:00 2025, lastUpdateTimeNanos=45992253607600}
2025-08-18 11:49:14 [cluster-ClusterId{value='68a2b0cad1c22545cd69020e', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=96287800, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:49:14 GMT+07:00 2025, lastUpdateTimeNanos=45992297633500}
2025-08-18 11:49:14 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: b3d21bc4-ad0a-45e2-b724-b68fe589e981

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 11:49:14 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 11:49:14 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c11c559, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b147ec0, org.springframework.security.web.context.SecurityContextHolderFilter@651e50b3, org.springframework.security.web.header.HeaderWriterFilter@1983a942, org.springframework.web.filter.CorsFilter@20012ccb, org.springframework.security.web.authentication.logout.LogoutFilter@61f0c251, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5595dc69, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@51d8a620, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@87ed48c, org.springframework.security.web.session.SessionManagementFilter@905c0de, org.springframework.security.web.access.ExceptionTranslationFilter@39e12b42, org.springframework.security.web.access.intercept.AuthorizationFilter@e80705b]
2025-08-18 11:49:14 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-18 11:49:14 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 0.988 seconds (process running for 191.932)
2025-08-18 11:49:14 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 11:49:15 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 11:49:15 [restartedMain] ERROR c.n.t.config.MongoIndexConfig - Error creating MongoDB indexes
org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755492555, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cL2aSG+ktAp01ybYBBK5KYR6EbY=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755492555, "i": 2}}}
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2993) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.execute(DefaultIndexOperations.java:215) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.ensureIndex(DefaultIndexOperations.java:119) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.createProductIndexes(MongoIndexConfig.java:128) ~[classes/:na]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.lambda$0(MongoIndexConfig.java:33) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770) ~[spring-boot-3.2.0.jar:3.2.0]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.0.jar:3.2.0]
Caused by: com.mongodb.MongoCommandException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755492555, "i": 2}}, "signature": {"hash": {"$binary": {"base64": "cL2aSG+ktAp01ybYBBK5KYR6EbY=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755492555, "i": 2}}}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:454) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:372) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:765) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:76) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:209) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:115) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:83) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:299) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.executeCommand(SyncOperationHelper.java:210) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$execute$0(CreateIndexesOperation.java:131) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnectionSource(SyncOperationHelper.java:163) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnection(SyncOperationHelper.java:108) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:129) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:68) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:173) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:913) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:896) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:891) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:876) ~[mongodb-driver-sync-4.11.1.jar:na]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.lambda$ensureIndex$0(DefaultIndexOperations.java:129) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:601) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	... 22 common frames omitted
2025-08-18 11:49:15 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-18 11:49:31 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 2 deletions, 0 modifications)
2025-08-18 11:49:32 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 22516 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:49:32 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:49:32 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:49:32 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 11:49:32 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 11:49:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:49:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:49:32 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 84 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:49:32 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 2748 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:49:32 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:49:32 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:49:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:49:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:49:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:49:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:49:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:49:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:49:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:49:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:49:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-08-18 11:49:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:49:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:49:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:49:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:49:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:49:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-08-18 11:49:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:49:33 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:49:33 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:49:33 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:49:33 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 540 ms
2025-08-18 11:49:33 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6f08dccb, com.mongodb.Jep395RecordCodecProvider@307f5e49, com.mongodb.KotlinCodecProvider@55f4768d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:49:33 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 11:49:33 [cluster-ClusterId{value='68a2b0ddd1c22545cd69020f', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:49:33 [cluster-ClusterId{value='68a2b0ddd1c22545cd69020f', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:49:33 [cluster-ClusterId{value='68a2b0ddd1c22545cd69020f', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:49:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:49:33 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:49:33 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:49:33 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:49:33 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1460 ms
2025-08-18 11:49:33 [cluster-ClusterId{value='68a2b0ddd1c22545cd69020f', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=56202300, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:49:33 GMT+07:00 2025, lastUpdateTimeNanos=46011429121300}
2025-08-18 11:49:33 [cluster-ClusterId{value='68a2b0ddd1c22545cd69020f', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=63354700, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:49:33 GMT+07:00 2025, lastUpdateTimeNanos=46011439825400}
2025-08-18 11:49:33 [cluster-ClusterId{value='68a2b0ddd1c22545cd69020f', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=93115800, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:49:33 GMT+07:00 2025, lastUpdateTimeNanos=46011470085900}
2025-08-18 11:49:33 [cluster-ClusterId{value='68a2b0ddd1c22545cd69020f', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:49:33 [cluster-ClusterId{value='68a2b0dd9278351fdd388af3', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:49:33 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6c209148, com.mongodb.Jep395RecordCodecProvider@e3cc4e3, com.mongodb.KotlinCodecProvider@6982d3d3]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:49:33 [cluster-ClusterId{value='68a2b0dd9278351fdd388af3', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:49:33 [cluster-ClusterId{value='68a2b0dd9278351fdd388af3', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:49:33 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 85433456-af96-4e97-88ff-a5849aa09c56

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 11:49:34 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-08-18 11:49:34 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 11:49:34 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@77368a8b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1889dd29, org.springframework.security.web.context.SecurityContextHolderFilter@27e08c30, org.springframework.security.web.header.HeaderWriterFilter@1e5f6a84, org.springframework.web.filter.CorsFilter@65ab5fb3, org.springframework.security.web.authentication.logout.LogoutFilter@38daf15d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4373a63f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@261dff9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@494f9bcd, org.springframework.security.web.session.SessionManagementFilter@7838bc1e, org.springframework.security.web.access.ExceptionTranslationFilter@343a09aa, org.springframework.security.web.access.intercept.AuthorizationFilter@2f6e0067]
2025-08-18 11:49:34 [cluster-ClusterId{value='68a2b0dd9278351fdd388af3', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=240372300, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:49:34 GMT+07:00 2025, lastUpdateTimeNanos=46012034747700}
2025-08-18 11:49:34 [cluster-ClusterId{value='68a2b0dd9278351fdd388af3', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=238447000, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:49:34 GMT+07:00 2025, lastUpdateTimeNanos=46012034747700}
2025-08-18 11:49:34 [cluster-ClusterId{value='68a2b0dd9278351fdd388af3', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=237518000, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:49:34 GMT+07:00 2025, lastUpdateTimeNanos=46012034773400}
2025-08-18 11:49:34 [cluster-ClusterId{value='68a2b0dd9278351fdd388af3', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:49:34 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-18 11:49:34 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 1.596 seconds (process running for 211.429)
2025-08-18 11:49:34 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 11:49:34 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 11:49:34 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 3268950d-3cb4-4ab0-b815-3cc03228b1fa

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 11:49:34 [restartedMain] ERROR c.n.t.config.MongoIndexConfig - Error creating MongoDB indexes
org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755492575, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "LouTS0LpnJrGs3MHb4Jqv2s4Rz0=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755492575, "i": 1}}}
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2993) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.execute(DefaultIndexOperations.java:215) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.ensureIndex(DefaultIndexOperations.java:119) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.createProductIndexes(MongoIndexConfig.java:128) ~[classes/:na]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.lambda$0(MongoIndexConfig.java:33) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770) ~[spring-boot-3.2.0.jar:3.2.0]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.0.jar:3.2.0]
Caused by: com.mongodb.MongoCommandException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755492575, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "LouTS0LpnJrGs3MHb4Jqv2s4Rz0=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755492575, "i": 1}}}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:454) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:372) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:765) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:76) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:209) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:115) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:83) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:299) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.executeCommand(SyncOperationHelper.java:210) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$execute$0(CreateIndexesOperation.java:131) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnectionSource(SyncOperationHelper.java:163) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnection(SyncOperationHelper.java:108) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:129) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:68) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:173) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:913) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:896) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:891) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:876) ~[mongodb-driver-sync-4.11.1.jar:na]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.lambda$ensureIndex$0(DefaultIndexOperations.java:129) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:601) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	... 22 common frames omitted
2025-08-18 11:49:34 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-18 11:49:34 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 11:49:34 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5943ac2c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@250b6a7c, org.springframework.security.web.context.SecurityContextHolderFilter@554bb4c4, org.springframework.security.web.header.HeaderWriterFilter@545c14eb, org.springframework.web.filter.CorsFilter@cd6fe87, org.springframework.security.web.authentication.logout.LogoutFilter@9affb30, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10042830, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50153290, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f0a751d, org.springframework.security.web.session.SessionManagementFilter@6a14d77d, org.springframework.security.web.access.ExceptionTranslationFilter@64d30d06, org.springframework.security.web.access.intercept.AuthorizationFilter@3bb8f181]
2025-08-18 11:49:35 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-18 11:49:35 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (2 additions, 0 deletions, 0 modifications)
2025-08-18 11:49:36 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-18 11:49:36 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-08-18 11:49:36 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 2748 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:49:36 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:49:36 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:49:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:49:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:49:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:49:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:49:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:49:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:49:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:49:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:49:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-08-18 11:49:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:49:37 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:49:37 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:49:37 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:49:37 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 497 ms
2025-08-18 11:49:37 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6f08dccb, com.mongodb.Jep395RecordCodecProvider@307f5e49, com.mongodb.KotlinCodecProvider@55f4768d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:49:37 [cluster-ClusterId{value='68a2b0e1d1c22545cd690210', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:49:37 [cluster-ClusterId{value='68a2b0e1d1c22545cd690210', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:49:37 [cluster-ClusterId{value='68a2b0e1d1c22545cd690210', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:49:37 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 11:49:37 [cluster-ClusterId{value='68a2b0e1d1c22545cd690210', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=56346100, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:49:37 GMT+07:00 2025, lastUpdateTimeNanos=46015471356500}
2025-08-18 11:49:37 [cluster-ClusterId{value='68a2b0e1d1c22545cd690210', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:49:37 [cluster-ClusterId{value='68a2b0e1d1c22545cd690210', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=55569500, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:49:37 GMT+07:00 2025, lastUpdateTimeNanos=46015473265300}
2025-08-18 11:49:37 [cluster-ClusterId{value='68a2b0e1d1c22545cd690210', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=65008800, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:49:37 GMT+07:00 2025, lastUpdateTimeNanos=46015476385000}
2025-08-18 11:49:37 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: e506b877-f220-450e-8eed-5e67e5fd08b3

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 11:49:38 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 11:49:38 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b516694, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3daa24f5, org.springframework.security.web.context.SecurityContextHolderFilter@328e08d6, org.springframework.security.web.header.HeaderWriterFilter@43f43a35, org.springframework.web.filter.CorsFilter@79f9581f, org.springframework.security.web.authentication.logout.LogoutFilter@73fcb231, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5aef57c8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3828eb32, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1cf08a3, org.springframework.security.web.session.SessionManagementFilter@5c6ab7a9, org.springframework.security.web.access.ExceptionTranslationFilter@54db88f, org.springframework.security.web.access.intercept.AuthorizationFilter@2c03faa9]
2025-08-18 11:49:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-18 11:49:38 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 1.415 seconds (process running for 215.425)
2025-08-18 11:49:38 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 11:49:38 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 11:49:38 [restartedMain] ERROR c.n.t.config.MongoIndexConfig - Error creating MongoDB indexes
org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755492579, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "kt8aXXJN6KWNSba55EAJ6gN7di0=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755492579, "i": 1}}}
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2993) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.execute(DefaultIndexOperations.java:215) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.ensureIndex(DefaultIndexOperations.java:119) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.createProductIndexes(MongoIndexConfig.java:128) ~[classes/:na]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.lambda$0(MongoIndexConfig.java:33) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770) ~[spring-boot-3.2.0.jar:3.2.0]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.0.jar:3.2.0]
Caused by: com.mongodb.MongoCommandException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755492579, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "kt8aXXJN6KWNSba55EAJ6gN7di0=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755492579, "i": 1}}}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:454) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:372) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:765) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:76) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:209) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:115) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:83) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:299) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.executeCommand(SyncOperationHelper.java:210) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$execute$0(CreateIndexesOperation.java:131) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnectionSource(SyncOperationHelper.java:163) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnection(SyncOperationHelper.java:108) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:129) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:68) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:173) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:913) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:896) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:891) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:876) ~[mongodb-driver-sync-4.11.1.jar:na]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.lambda$ensureIndex$0(DefaultIndexOperations.java:129) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:601) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	... 22 common frames omitted
2025-08-18 11:49:38 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-18 11:57:50 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 30572 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:57:50 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:57:50 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:57:50 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-18 11:57:50 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 11:57:50 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 11:57:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:57:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:57:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:57:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:57:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:57:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:57:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:57:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:57:51 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-18 11:57:52 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 2748 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:57:52 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:57:52 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:57:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-18 11:57:52 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:57:52 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:57:52 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:57:52 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1449 ms
2025-08-18 11:57:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:57:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:57:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:57:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:57:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:57:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:57:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:57:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:57:52 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2025-08-18 11:57:52 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@69ee96fa, com.mongodb.Jep395RecordCodecProvider@2f1afd85, com.mongodb.KotlinCodecProvider@34093831]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:57:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8081 (http)
2025-08-18 11:57:52 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:57:52 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:57:52 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:57:52 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 516 ms
2025-08-18 11:57:52 [cluster-ClusterId{value='68a2b2d07c45bc330146853e', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:57:52 [cluster-ClusterId{value='68a2b2d07c45bc330146853e', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:57:52 [cluster-ClusterId{value='68a2b2d07c45bc330146853e', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:57:52 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6f08dccb, com.mongodb.Jep395RecordCodecProvider@307f5e49, com.mongodb.KotlinCodecProvider@55f4768d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:57:52 [cluster-ClusterId{value='68a2b2d0d1c22545cd690211', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:57:52 [cluster-ClusterId{value='68a2b2d0d1c22545cd690211', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:57:52 [cluster-ClusterId{value='68a2b2d0d1c22545cd690211', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:57:52 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-08-18 11:57:52 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 11:57:52 [cluster-ClusterId{value='68a2b2d0d1c22545cd690211', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=96159000, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:57:53 GMT+07:00 2025, lastUpdateTimeNanos=46510862804500}
2025-08-18 11:57:52 [cluster-ClusterId{value='68a2b2d0d1c22545cd690211', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=96761900, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:57:53 GMT+07:00 2025, lastUpdateTimeNanos=46510863704500}
2025-08-18 11:57:52 [cluster-ClusterId{value='68a2b2d0d1c22545cd690211', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:57:53 [cluster-ClusterId{value='68a2b2d0d1c22545cd690211', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=111367700, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:57:53 GMT+07:00 2025, lastUpdateTimeNanos=46510884814700}
2025-08-18 11:57:53 [cluster-ClusterId{value='68a2b2d07c45bc330146853e', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=233367200, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:57:53 GMT+07:00 2025, lastUpdateTimeNanos=46511051878100}
2025-08-18 11:57:53 [cluster-ClusterId{value='68a2b2d07c45bc330146853e', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=236317700, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:57:53 GMT+07:00 2025, lastUpdateTimeNanos=46511051878100}
2025-08-18 11:57:53 [cluster-ClusterId{value='68a2b2d07c45bc330146853e', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=229986900, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:57:53 GMT+07:00 2025, lastUpdateTimeNanos=46511054958700}
2025-08-18 11:57:53 [cluster-ClusterId{value='68a2b2d07c45bc330146853e', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:57:53 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 779ab83c-3236-45d0-a779-4b53b4e84939

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 11:57:53 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: cebb7475-dafc-46ff-871b-320752a4632c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 11:57:53 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 11:57:53 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@33867b5a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d4a8682, org.springframework.security.web.context.SecurityContextHolderFilter@57da186, org.springframework.security.web.header.HeaderWriterFilter@5f00c641, org.springframework.web.filter.CorsFilter@765047b, org.springframework.security.web.authentication.logout.LogoutFilter@5bdcae93, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@547c47d8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d17b1d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30f878f2, org.springframework.security.web.session.SessionManagementFilter@726f583a, org.springframework.security.web.access.ExceptionTranslationFilter@45228e47, org.springframework.security.web.access.intercept.AuthorizationFilter@7258af15]
2025-08-18 11:57:53 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 11:57:53 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21ae0127, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b5711f3, org.springframework.security.web.context.SecurityContextHolderFilter@7bb72c2f, org.springframework.security.web.header.HeaderWriterFilter@4d26c4e9, org.springframework.web.filter.CorsFilter@2763bea3, org.springframework.security.web.authentication.logout.LogoutFilter@6f7ff9e7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@778594d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f27b7be, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4bc3c21c, org.springframework.security.web.session.SessionManagementFilter@70ce5bbf, org.springframework.security.web.access.ExceptionTranslationFilter@75bd6786, org.springframework.security.web.access.intercept.AuthorizationFilter@7d6af726]
2025-08-18 11:57:53 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8081 (http) with context path '/api'
2025-08-18 11:57:53 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 1.615 seconds (process running for 710.933)
2025-08-18 11:57:53 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 11:57:54 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 11:57:54 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-18 11:57:54 [restartedMain] ERROR c.n.t.config.MongoIndexConfig - Error creating MongoDB indexes
org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493074, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "x/d/JU0TTix3lgTbVADCKo+nUgE=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493074, "i": 3}}}
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2993) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.execute(DefaultIndexOperations.java:215) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.ensureIndex(DefaultIndexOperations.java:119) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.createProductIndexes(MongoIndexConfig.java:128) ~[classes/:na]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.lambda$0(MongoIndexConfig.java:33) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770) ~[spring-boot-3.2.0.jar:3.2.0]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.0.jar:3.2.0]
Caused by: com.mongodb.MongoCommandException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493074, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "x/d/JU0TTix3lgTbVADCKo+nUgE=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493074, "i": 3}}}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:454) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:372) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:765) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:76) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:209) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:115) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:83) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:299) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.executeCommand(SyncOperationHelper.java:210) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$execute$0(CreateIndexesOperation.java:131) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnectionSource(SyncOperationHelper.java:163) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnection(SyncOperationHelper.java:108) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:129) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:68) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:173) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:913) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:896) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:891) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:876) ~[mongodb-driver-sync-4.11.1.jar:na]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.lambda$ensureIndex$0(DefaultIndexOperations.java:129) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:601) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	... 22 common frames omitted
2025-08-18 11:57:54 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-18 11:57:54 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-18 11:57:54 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8081 was already in use.

Action:

Identify and stop the process that's listening on port 8081 or configure this application to listen on another port.

2025-08-18 11:58:15 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 30272 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:58:15 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:58:15 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:58:15 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 11:58:15 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 11:58:16 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-18 11:58:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:58:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:58:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:58:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:58:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:58:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:58:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:58:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:58:16 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-08-18 11:58:17 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9999 (http)
2025-08-18 11:58:17 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:58:17 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:58:17 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:58:17 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1382 ms
2025-08-18 11:58:17 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 2748 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:58:17 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:58:17 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:58:17 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6d6a1033, com.mongodb.Jep395RecordCodecProvider@69ee96fa, com.mongodb.KotlinCodecProvider@2f1afd85]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:58:17 [cluster-ClusterId{value='68a2b2e9f976aa1cdbf47a30', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:58:17 [cluster-ClusterId{value='68a2b2e9f976aa1cdbf47a30', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:58:17 [cluster-ClusterId{value='68a2b2e9f976aa1cdbf47a30', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:58:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:58:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:58:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:58:17 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-08-18 11:58:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:58:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:58:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:58:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:58:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:58:17 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-08-18 11:58:18 [cluster-ClusterId{value='68a2b2e9f976aa1cdbf47a30', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=223257400, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:58:18 GMT+07:00 2025, lastUpdateTimeNanos=46535878181100}
2025-08-18 11:58:18 [cluster-ClusterId{value='68a2b2e9f976aa1cdbf47a30', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=216647000, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:58:18 GMT+07:00 2025, lastUpdateTimeNanos=46535878568400}
2025-08-18 11:58:18 [cluster-ClusterId{value='68a2b2e9f976aa1cdbf47a30', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:58:18 [cluster-ClusterId{value='68a2b2e9f976aa1cdbf47a30', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=215340400, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:58:18 GMT+07:00 2025, lastUpdateTimeNanos=46535884097200}
2025-08-18 11:58:18 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 9999 (http)
2025-08-18 11:58:18 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:58:18 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:58:18 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:58:18 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 594 ms
2025-08-18 11:58:18 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6f08dccb, com.mongodb.Jep395RecordCodecProvider@307f5e49, com.mongodb.KotlinCodecProvider@55f4768d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:58:18 [cluster-ClusterId{value='68a2b2ead1c22545cd690212', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:58:18 [cluster-ClusterId{value='68a2b2ead1c22545cd690212', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:58:18 [cluster-ClusterId{value='68a2b2ead1c22545cd690212', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:58:18 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 11:58:18 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: f33c64cb-f5cf-4c4a-9fdd-72e6b925785e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 11:58:18 [cluster-ClusterId{value='68a2b2ead1c22545cd690212', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=53768200, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:58:18 GMT+07:00 2025, lastUpdateTimeNanos=46536190296000}
2025-08-18 11:58:18 [cluster-ClusterId{value='68a2b2ead1c22545cd690212', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=68434300, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:58:18 GMT+07:00 2025, lastUpdateTimeNanos=46536215014700}
2025-08-18 11:58:18 [cluster-ClusterId{value='68a2b2ead1c22545cd690212', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:58:18 [cluster-ClusterId{value='68a2b2ead1c22545cd690212', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=121907300, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:58:18 GMT+07:00 2025, lastUpdateTimeNanos=46536277065000}
2025-08-18 11:58:18 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: d9c996a9-23bd-413d-9384-e44934ffc93c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 11:58:18 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 11:58:18 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59aa2e8f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c2cc484, org.springframework.security.web.context.SecurityContextHolderFilter@5042aa79, org.springframework.security.web.header.HeaderWriterFilter@13856524, org.springframework.web.filter.CorsFilter@42152189, org.springframework.security.web.authentication.logout.LogoutFilter@6c0fd0cd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69c26304, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d040a3b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8c1ff97, org.springframework.security.web.session.SessionManagementFilter@778594d7, org.springframework.security.web.access.ExceptionTranslationFilter@1fcd043d, org.springframework.security.web.access.intercept.AuthorizationFilter@4bc3c21c]
2025-08-18 11:58:18 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 11:58:18 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2bb8a38d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4acf9c49, org.springframework.security.web.context.SecurityContextHolderFilter@2c83b873, org.springframework.security.web.header.HeaderWriterFilter@14c4a4f0, org.springframework.web.filter.CorsFilter@63ab4c6e, org.springframework.security.web.authentication.logout.LogoutFilter@57b6c40f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d645580, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2cb681f8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2875fe0f, org.springframework.security.web.session.SessionManagementFilter@4dc0ef6d, org.springframework.security.web.access.ExceptionTranslationFilter@33e056dd, org.springframework.security.web.access.intercept.AuthorizationFilter@7060b68d]
2025-08-18 11:58:19 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 9999 (http) with context path '/api'
2025-08-18 11:58:19 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 1.573 seconds (process running for 736.214)
2025-08-18 11:58:19 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 11:58:19 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-18 11:58:19 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 11:58:19 [restartedMain] ERROR c.n.t.config.MongoIndexConfig - Error creating MongoDB indexes
org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493099, "i": 7}}, "signature": {"hash": {"$binary": {"base64": "FvWkQ2ZN2jjtHg0MaFnmZGbZmm8=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493099, "i": 7}}}
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2993) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.execute(DefaultIndexOperations.java:215) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.ensureIndex(DefaultIndexOperations.java:119) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.createProductIndexes(MongoIndexConfig.java:128) ~[classes/:na]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.lambda$0(MongoIndexConfig.java:33) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770) ~[spring-boot-3.2.0.jar:3.2.0]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.0.jar:3.2.0]
Caused by: com.mongodb.MongoCommandException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493099, "i": 7}}, "signature": {"hash": {"$binary": {"base64": "FvWkQ2ZN2jjtHg0MaFnmZGbZmm8=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493099, "i": 7}}}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:454) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:372) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:765) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:76) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:209) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:115) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:83) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:299) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.executeCommand(SyncOperationHelper.java:210) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$execute$0(CreateIndexesOperation.java:131) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnectionSource(SyncOperationHelper.java:163) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnection(SyncOperationHelper.java:108) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:129) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:68) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:173) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:913) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:896) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:891) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:876) ~[mongodb-driver-sync-4.11.1.jar:na]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.lambda$ensureIndex$0(DefaultIndexOperations.java:129) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:601) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	... 22 common frames omitted
2025-08-18 11:58:19 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-18 11:58:19 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-18 11:58:19 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 9999 was already in use.

Action:

Identify and stop the process that's listening on port 9999 or configure this application to listen on another port.

2025-08-18 11:58:35 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-18 11:58:36 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 2748 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:58:36 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:58:36 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:58:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:58:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:58:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:58:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:58:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:58:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:58:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:58:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:58:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-08-18 11:58:36 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:58:36 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:58:36 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:58:36 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:58:36 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 436 ms
2025-08-18 11:58:37 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6f08dccb, com.mongodb.Jep395RecordCodecProvider@307f5e49, com.mongodb.KotlinCodecProvider@55f4768d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:58:37 [cluster-ClusterId{value='68a2b2fdd1c22545cd690213', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:58:37 [cluster-ClusterId{value='68a2b2fdd1c22545cd690213', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:58:37 [cluster-ClusterId{value='68a2b2fdd1c22545cd690213', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:58:37 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 11:58:37 [cluster-ClusterId{value='68a2b2fdd1c22545cd690213', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=50476400, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:58:37 GMT+07:00 2025, lastUpdateTimeNanos=46554999765700}
2025-08-18 11:58:37 [cluster-ClusterId{value='68a2b2fdd1c22545cd690213', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=59148600, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:58:37 GMT+07:00 2025, lastUpdateTimeNanos=46555012853800}
2025-08-18 11:58:37 [cluster-ClusterId{value='68a2b2fdd1c22545cd690213', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:58:37 [cluster-ClusterId{value='68a2b2fdd1c22545cd690213', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=104994700, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:58:37 GMT+07:00 2025, lastUpdateTimeNanos=46555062369700}
2025-08-18 11:58:37 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 88561d83-466b-4dbf-98e3-5cde6a5f902c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 11:58:37 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 11:58:37 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5592cb08, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b8b18fb, org.springframework.security.web.context.SecurityContextHolderFilter@172421e5, org.springframework.security.web.header.HeaderWriterFilter@242a586f, org.springframework.web.filter.CorsFilter@79c8a4ed, org.springframework.security.web.authentication.logout.LogoutFilter@7c5046ff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@197c9823, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6fe35243, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@293fff88, org.springframework.security.web.session.SessionManagementFilter@fc559cc, org.springframework.security.web.access.ExceptionTranslationFilter@6afc855f, org.springframework.security.web.access.intercept.AuthorizationFilter@74145ffd]
2025-08-18 11:58:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-18 11:58:37 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 1.356 seconds (process running for 754.985)
2025-08-18 11:58:37 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 11:58:38 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 11:58:38 [restartedMain] ERROR c.n.t.config.MongoIndexConfig - Error creating MongoDB indexes
org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493118, "i": 6}}, "signature": {"hash": {"$binary": {"base64": "+KLDoaNaIWWOOrSLLcgxUjdpyTQ=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493118, "i": 6}}}
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2993) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.execute(DefaultIndexOperations.java:215) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.ensureIndex(DefaultIndexOperations.java:119) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.createProductIndexes(MongoIndexConfig.java:128) ~[classes/:na]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.lambda$0(MongoIndexConfig.java:33) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770) ~[spring-boot-3.2.0.jar:3.2.0]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.0.jar:3.2.0]
Caused by: com.mongodb.MongoCommandException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493118, "i": 6}}, "signature": {"hash": {"$binary": {"base64": "+KLDoaNaIWWOOrSLLcgxUjdpyTQ=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493118, "i": 6}}}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:454) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:372) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:765) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:76) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:209) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:115) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:83) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:299) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.executeCommand(SyncOperationHelper.java:210) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$execute$0(CreateIndexesOperation.java:131) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnectionSource(SyncOperationHelper.java:163) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnection(SyncOperationHelper.java:108) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:129) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:68) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:173) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:913) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:896) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:891) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:876) ~[mongodb-driver-sync-4.11.1.jar:na]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.lambda$ensureIndex$0(DefaultIndexOperations.java:129) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:601) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	... 22 common frames omitted
2025-08-18 11:58:38 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-18 11:59:36 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 14964 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:59:36 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:59:36 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:59:36 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 11:59:36 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 11:59:36 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-08-18 11:59:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:59:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:59:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:59:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:59:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:59:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:59:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:59:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:59:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-08-18 11:59:37 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:59:37 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:59:37 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:59:37 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:59:37 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1369 ms
2025-08-18 11:59:38 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@354446a3, com.mongodb.Jep395RecordCodecProvider@7f1f63ff, com.mongodb.KotlinCodecProvider@75966496]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:59:38 [cluster-ClusterId{value='68a2b33a5402cf4bb8424ac8', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:59:38 [cluster-ClusterId{value='68a2b33a5402cf4bb8424ac8', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:59:38 [cluster-ClusterId{value='68a2b33a5402cf4bb8424ac8', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:59:38 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-08-18 11:59:38 [cluster-ClusterId{value='68a2b33a5402cf4bb8424ac8', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=235457100, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:59:38 GMT+07:00 2025, lastUpdateTimeNanos=46616453386200}
2025-08-18 11:59:38 [cluster-ClusterId{value='68a2b33a5402cf4bb8424ac8', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=202735700, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:59:38 GMT+07:00 2025, lastUpdateTimeNanos=46616453386400}
2025-08-18 11:59:38 [cluster-ClusterId{value='68a2b33a5402cf4bb8424ac8', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=222089300, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:59:38 GMT+07:00 2025, lastUpdateTimeNanos=46616453386400}
2025-08-18 11:59:38 [cluster-ClusterId{value='68a2b33a5402cf4bb8424ac8', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:59:38 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: bd7dc6c8-3283-4bc2-a995-815c9aaedc3b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 11:59:39 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 11:59:39 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21ae0127, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b5711f3, org.springframework.security.web.context.SecurityContextHolderFilter@7bb72c2f, org.springframework.security.web.header.HeaderWriterFilter@4d26c4e9, org.springframework.web.filter.CorsFilter@7ba15f73, org.springframework.security.web.authentication.logout.LogoutFilter@6f7ff9e7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@778594d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f27b7be, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4bc3c21c, org.springframework.security.web.session.SessionManagementFilter@70ce5bbf, org.springframework.security.web.access.ExceptionTranslationFilter@75bd6786, org.springframework.security.web.access.intercept.AuthorizationFilter@7d6af726]
2025-08-18 11:59:39 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-18 11:59:39 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 3.421 seconds (process running for 3.899)
2025-08-18 11:59:39 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 11:59:39 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 11:59:40 [restartedMain] ERROR c.n.t.config.MongoIndexConfig - Error creating MongoDB indexes
org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493180, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "M4ViuRkDEVCmJ//htF8STospR0M=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493180, "i": 1}}}
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135)
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2993)
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.execute(DefaultIndexOperations.java:215)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.ensureIndex(DefaultIndexOperations.java:119)
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.createProductIndexes(MongoIndexConfig.java:128)
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.lambda$0(MongoIndexConfig.java:33)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mongodb.MongoCommandException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493180, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "M4ViuRkDEVCmJ//htF8STospR0M=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493180, "i": 1}}}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:454)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:372)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:765)
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:76)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:209)
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:115)
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:83)
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74)
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:299)
	at com.mongodb.internal.operation.SyncOperationHelper.executeCommand(SyncOperationHelper.java:210)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$execute$0(CreateIndexesOperation.java:131)
	at com.mongodb.internal.operation.SyncOperationHelper.withConnectionSource(SyncOperationHelper.java:163)
	at com.mongodb.internal.operation.SyncOperationHelper.withConnection(SyncOperationHelper.java:108)
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:129)
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:68)
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:173)
	at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:913)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:896)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:891)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:876)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.lambda$ensureIndex$0(DefaultIndexOperations.java:129)
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:601)
	... 22 common frames omitted
2025-08-18 11:59:40 [RMI TCP Connection(3)-26.13.152.190] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-18 11:59:40 [RMI TCP Connection(3)-26.13.152.190] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-18 11:59:40 [RMI TCP Connection(3)-26.13.152.190] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-18 11:59:40 [RMI TCP Connection(2)-26.13.152.190] WARN  o.s.b.a.d.redis.RedisHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Cannot get Jedis connection
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:873)
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.getConnection(JedisConnectionFactory.java:835)
	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:194)
	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:143)
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:104)
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:91)
	at org.springframework.boot.actuate.data.redis.RedisHealthIndicator.doHealthCheck(RedisHealthIndicator.java:49)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:82)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:76)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:124)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:803)
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1520)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1348)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1435)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:841)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)
	at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: redis.clients.jedis.exceptions.JedisConnectionException: Failed to connect to any host resolved for DNS name.
	at redis.clients.jedis.DefaultJedisSocketFactory.connectToFirstSuccessfulHost(DefaultJedisSocketFactory.java:63)
	at redis.clients.jedis.DefaultJedisSocketFactory.createSocket(DefaultJedisSocketFactory.java:87)
	at redis.clients.jedis.Connection.connect(Connection.java:195)
	at redis.clients.jedis.Connection.initializeFromClientConfig(Connection.java:393)
	at redis.clients.jedis.Connection.<init>(Connection.java:68)
	at redis.clients.jedis.Jedis.<init>(Jedis.java:220)
	at redis.clients.jedis.JedisFactory.makeObject(JedisFactory.java:170)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:566)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:306)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:233)
	at redis.clients.jedis.util.Pool.getResource(Pool.java:38)
	at redis.clients.jedis.JedisPool.getResource(JedisPool.java:378)
	at redis.clients.jedis.JedisPool.getResource(JedisPool.java:17)
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:863)
	... 46 common frames omitted
	Suppressed: java.net.ConnectException: Connection refused: getsockopt
		at java.base/sun.nio.ch.Net.pollConnect(Native Method)
		at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
		at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
		at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
		at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
		at java.base/java.net.Socket.connect(Socket.java:760)
		at redis.clients.jedis.DefaultJedisSocketFactory.connectToFirstSuccessfulHost(DefaultJedisSocketFactory.java:73)
		... 59 common frames omitted
	Suppressed: java.net.ConnectException: Connection refused: getsockopt
		at java.base/sun.nio.ch.Net.pollConnect(Native Method)
		at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
		at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
		at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
		at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
		at java.base/java.net.Socket.connect(Socket.java:760)
		at redis.clients.jedis.DefaultJedisSocketFactory.connectToFirstSuccessfulHost(DefaultJedisSocketFactory.java:73)
		... 59 common frames omitted
2025-08-18 11:59:42 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 2748 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 11:59:42 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 11:59:42 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 11:59:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:59:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 11:59:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 3 MongoDB repository interfaces.
2025-08-18 11:59:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 11:59:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 11:59:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:59:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:59:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 11:59:43 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-08-18 11:59:43 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 11:59:43 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 11:59:43 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 11:59:43 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 11:59:43 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 425 ms
2025-08-18 11:59:43 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6f08dccb, com.mongodb.Jep395RecordCodecProvider@307f5e49, com.mongodb.KotlinCodecProvider@55f4768d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 11:59:43 [cluster-ClusterId{value='68a2b33fd1c22545cd690214', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:59:43 [cluster-ClusterId{value='68a2b33fd1c22545cd690214', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:59:43 [cluster-ClusterId{value='68a2b33fd1c22545cd690214', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 11:59:43 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 11:59:43 [cluster-ClusterId{value='68a2b33fd1c22545cd690214', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=66458400, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 11:59:43 GMT+07:00 2025, lastUpdateTimeNanos=46621423138400}
2025-08-18 11:59:43 [cluster-ClusterId{value='68a2b33fd1c22545cd690214', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=68814100, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 11:59:43 GMT+07:00 2025, lastUpdateTimeNanos=46621426678400}
2025-08-18 11:59:43 [cluster-ClusterId{value='68a2b33fd1c22545cd690214', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=90347700, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 11:59:44 GMT+07:00 2025, lastUpdateTimeNanos=46621441365200}
2025-08-18 11:59:43 [cluster-ClusterId{value='68a2b33fd1c22545cd690214', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 11:59:43 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 3c831340-36e4-4ebb-a02f-55ce5bfdbae0

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 11:59:43 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 11:59:44 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@35e6f1b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9f43891, org.springframework.security.web.context.SecurityContextHolderFilter@2bbcb864, org.springframework.security.web.header.HeaderWriterFilter@1b65f88, org.springframework.web.filter.CorsFilter@6c373b4b, org.springframework.security.web.authentication.logout.LogoutFilter@3161b9fb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@91e7c4d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ae728f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78de4516, org.springframework.security.web.session.SessionManagementFilter@6014bcc4, org.springframework.security.web.access.ExceptionTranslationFilter@6748b91f, org.springframework.security.web.access.intercept.AuthorizationFilter@48440efb]
2025-08-18 11:59:44 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-18 11:59:44 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-18 11:59:44 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-08-18 11:59:47 [RMI TCP Connection(2)-26.13.152.190] WARN  o.s.b.a.mail.MailHealthIndicator - Mail health check failed
jakarta.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. For more information, go to
535 5.7.8  https://support.google.com/mail/?p=BadCredentials d9443c01a7336-2446ca9ef62sm67578565ad.6 - gsmtp

	at org.eclipse.angus.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:954)
	at org.eclipse.angus.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:865)
	at org.eclipse.angus.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:769)
	at jakarta.mail.Service.connect(Service.java:345)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:480)
	at org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:360)
	at org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:52)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:82)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:76)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:124)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:803)
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1520)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1348)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1435)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:841)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)
	at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-08-18 12:00:40 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 31908 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 12:00:40 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 12:00:40 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 12:00:40 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 12:00:40 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 12:00:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:00:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 12:00:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 3 MongoDB repository interfaces.
2025-08-18 12:00:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:00:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 12:00:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:00:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:00:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:00:41 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-08-18 12:00:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 12:00:42 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 12:00:42 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 12:00:42 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 12:00:42 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1587 ms
2025-08-18 12:00:42 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@21bcbd23, com.mongodb.Jep395RecordCodecProvider@627c983c, com.mongodb.KotlinCodecProvider@4f0793a8]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 12:00:42 [cluster-ClusterId{value='68a2b37ae4b1c967e6958fe0', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:00:42 [cluster-ClusterId{value='68a2b37ae4b1c967e6958fe0', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:00:42 [cluster-ClusterId{value='68a2b37ae4b1c967e6958fe0', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:00:42 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-08-18 12:00:43 [cluster-ClusterId{value='68a2b37ae4b1c967e6958fe0', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=245696100, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 12:00:43 GMT+07:00 2025, lastUpdateTimeNanos=46680911507200}
2025-08-18 12:00:43 [cluster-ClusterId{value='68a2b37ae4b1c967e6958fe0', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=244311800, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 12:00:43 GMT+07:00 2025, lastUpdateTimeNanos=46680911507100}
2025-08-18 12:00:43 [cluster-ClusterId{value='68a2b37ae4b1c967e6958fe0', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=239491300, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 12:00:43 GMT+07:00 2025, lastUpdateTimeNanos=46680912833500}
2025-08-18 12:00:43 [cluster-ClusterId{value='68a2b37ae4b1c967e6958fe0', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 12:00:43 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 072ac793-594a-4b81-84b2-875ea68f697d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 12:00:43 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 12:00:43 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@46f0ea67, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66dbf326, org.springframework.security.web.context.SecurityContextHolderFilter@54f0774c, org.springframework.security.web.header.HeaderWriterFilter@306d445e, org.springframework.web.filter.CorsFilter@6b2b4bdf, org.springframework.security.web.authentication.logout.LogoutFilter@3b3614d1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64d30d06, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34149d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9affb30, org.springframework.security.web.session.SessionManagementFilter@7f007655, org.springframework.security.web.access.ExceptionTranslationFilter@4379371b, org.springframework.security.web.access.intercept.AuthorizationFilter@7d1bb205]
2025-08-18 12:00:44 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-18 12:00:44 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 3.914 seconds (process running for 4.478)
2025-08-18 12:00:44 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 12:00:44 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 12:00:44 [restartedMain] ERROR c.n.t.config.MongoIndexConfig - Error creating MongoDB indexes
org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493244, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "Jta2vmyOdfHjBKs3faL0tp3BMJM=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493244, "i": 3}}}
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135)
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2993)
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.execute(DefaultIndexOperations.java:215)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.ensureIndex(DefaultIndexOperations.java:119)
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.createProductIndexes(MongoIndexConfig.java:128)
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.lambda$0(MongoIndexConfig.java:33)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mongodb.MongoCommandException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493244, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "Jta2vmyOdfHjBKs3faL0tp3BMJM=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493244, "i": 3}}}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:454)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:372)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:765)
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:76)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:209)
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:115)
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:83)
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74)
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:299)
	at com.mongodb.internal.operation.SyncOperationHelper.executeCommand(SyncOperationHelper.java:210)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$execute$0(CreateIndexesOperation.java:131)
	at com.mongodb.internal.operation.SyncOperationHelper.withConnectionSource(SyncOperationHelper.java:163)
	at com.mongodb.internal.operation.SyncOperationHelper.withConnection(SyncOperationHelper.java:108)
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:129)
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:68)
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:173)
	at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:913)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:896)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:891)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:876)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.lambda$ensureIndex$0(DefaultIndexOperations.java:129)
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:601)
	... 22 common frames omitted
2025-08-18 12:00:45 [RMI TCP Connection(2)-26.13.152.190] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-18 12:00:45 [RMI TCP Connection(2)-26.13.152.190] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-18 12:00:45 [RMI TCP Connection(2)-26.13.152.190] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-18 12:00:45 [RMI TCP Connection(3)-26.13.152.190] WARN  o.s.b.a.d.redis.RedisHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Cannot get Jedis connection
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:873)
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.getConnection(JedisConnectionFactory.java:835)
	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:194)
	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:143)
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:104)
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:91)
	at org.springframework.boot.actuate.data.redis.RedisHealthIndicator.doHealthCheck(RedisHealthIndicator.java:49)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:82)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:76)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:124)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:803)
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1520)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1348)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1435)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:841)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)
	at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: redis.clients.jedis.exceptions.JedisConnectionException: Failed to connect to any host resolved for DNS name.
	at redis.clients.jedis.DefaultJedisSocketFactory.connectToFirstSuccessfulHost(DefaultJedisSocketFactory.java:63)
	at redis.clients.jedis.DefaultJedisSocketFactory.createSocket(DefaultJedisSocketFactory.java:87)
	at redis.clients.jedis.Connection.connect(Connection.java:195)
	at redis.clients.jedis.Connection.initializeFromClientConfig(Connection.java:393)
	at redis.clients.jedis.Connection.<init>(Connection.java:68)
	at redis.clients.jedis.Jedis.<init>(Jedis.java:220)
	at redis.clients.jedis.JedisFactory.makeObject(JedisFactory.java:170)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:566)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:306)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:233)
	at redis.clients.jedis.util.Pool.getResource(Pool.java:38)
	at redis.clients.jedis.JedisPool.getResource(JedisPool.java:378)
	at redis.clients.jedis.JedisPool.getResource(JedisPool.java:17)
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:863)
	... 46 common frames omitted
	Suppressed: java.net.ConnectException: Connection refused: getsockopt
		at java.base/sun.nio.ch.Net.pollConnect(Native Method)
		at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
		at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
		at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
		at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
		at java.base/java.net.Socket.connect(Socket.java:760)
		at redis.clients.jedis.DefaultJedisSocketFactory.connectToFirstSuccessfulHost(DefaultJedisSocketFactory.java:73)
		... 59 common frames omitted
	Suppressed: java.net.ConnectException: Connection refused: getsockopt
		at java.base/sun.nio.ch.Net.pollConnect(Native Method)
		at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
		at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
		at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
		at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
		at java.base/java.net.Socket.connect(Socket.java:760)
		at redis.clients.jedis.DefaultJedisSocketFactory.connectToFirstSuccessfulHost(DefaultJedisSocketFactory.java:73)
		... 59 common frames omitted
2025-08-18 12:00:52 [RMI TCP Connection(3)-26.13.152.190] WARN  o.s.b.a.mail.MailHealthIndicator - Mail health check failed
jakarta.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. For more information, go to
535 5.7.8  https://support.google.com/mail/?p=BadCredentials 41be03b00d2f7-b472d73a0a7sm7128339a12.28 - gsmtp

	at org.eclipse.angus.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:954)
	at org.eclipse.angus.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:865)
	at org.eclipse.angus.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:769)
	at jakarta.mail.Service.connect(Service.java:345)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:480)
	at org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:360)
	at org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:52)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:82)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:76)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:124)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:803)
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1520)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1348)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1435)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:841)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)
	at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-08-18 12:01:03 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 209 class path changes (0 additions, 207 deletions, 2 modifications)
2025-08-18 12:01:03 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 2748 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 12:01:03 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 12:01:03 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 12:01:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:01:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 12:01:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1 ms. Found 0 MongoDB repository interfaces.
2025-08-18 12:01:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:01:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 12:01:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-08-18 12:01:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 12:01:04 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 12:01:04 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 12:01:04 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 12:01:04 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 471 ms
2025-08-18 12:01:04 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@7288563c], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6f08dccb, com.mongodb.Jep395RecordCodecProvider@307f5e49, com.mongodb.KotlinCodecProvider@55f4768d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@7cfebb98], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 12:01:04 [cluster-ClusterId{value='68a2b390d1c22545cd690215', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:01:04 [cluster-ClusterId{value='68a2b390d1c22545cd690215', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:01:04 [cluster-ClusterId{value='68a2b390d1c22545cd690215', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:01:04 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 38024f40-ffd4-4dba-88e3-1b956e354deb

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 12:01:04 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 12:01:04 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21e72a24, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78e08ea2, org.springframework.security.web.context.SecurityContextHolderFilter@94270d2, org.springframework.security.web.header.HeaderWriterFilter@17533908, org.springframework.web.filter.CorsFilter@59fda7dc, org.springframework.security.web.csrf.CsrfFilter@385f69b0, org.springframework.security.web.authentication.logout.LogoutFilter@7f3e7ca7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@165a16ec, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3a1f21d4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2158bfbe, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@32695693, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a139aa3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@348ac534, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@397607bb, org.springframework.security.web.access.ExceptionTranslationFilter@3a6881f4, org.springframework.security.web.access.intercept.AuthorizationFilter@3c100034]
2025-08-18 12:01:04 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 12:01:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-18 12:01:04 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 0.837 seconds (process running for 901.781)
2025-08-18 12:01:04 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   ManagementWebSecurityAutoConfiguration matched:
      - found 'session' scope (OnWebApplicationCondition)
      - AllNestedConditions 2 matched 0 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) did not find any beans; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)

   MongoAutoConfiguration matched:
      - @ConditionalOnClass found required class 'com.mongodb.client.MongoClient' (OnClassCondition)
      - @ConditionalOnMissingBean (types: org.springframework.data.mongodb.MongoDatabaseFactory; SearchStrategy: all) did not find any beans (OnBeanCondition)

   MongoAutoConfiguration#mongo matched:
      - @ConditionalOnMissingBean (types: com.mongodb.client.MongoClient; SearchStrategy: all) did not find any beans (OnBeanCondition)

   MongoAutoConfiguration#mongoConnectionDetails matched:
      - @ConditionalOnMissingBean (types: org.springframework.boot.autoconfigure.mongo.MongoConnectionDetails; SearchStrategy: all) did not find any beans (OnBeanCondition)

   MongoAutoConfiguration.MongoClientSettingsConfiguration matched:
      - @ConditionalOnMissingBean (types: com.mongodb.MongoClientSettings; SearchStrategy: all) did not find any beans (OnBeanCondition)

   MongoDataConfiguration#mongoCustomConversions matched:
      - @ConditionalOnMissingBean (types: org.springframework.data.mongodb.core.convert.MongoCustomConversions; SearchStrategy: all) did not find any beans (OnBeanCondition)

   MongoDataConfiguration#mongoManagedTypes matched:
      - @ConditionalOnMissingBean (types: org.springframework.data.mongodb.MongoManagedTypes; SearchStrategy: all) did not find any beans (OnBeanCondition)

   MongoDataConfiguration#mongoMappingContext matched:
      - @ConditionalOnMissingBean (types: org.springframework.data.mongodb.core.mapping.MongoMappingContext; SearchStrategy: all) did not find any beans (OnBeanCondition)

   MongoDatabaseFactoryConfiguration matched:
      - @ConditionalOnSingleCandidate (types: com.mongodb.client.MongoClient; SearchStrategy: all) found a single bean 'mongo'; @ConditionalOnMissingBean (types: org.springframework.data.mongodb.MongoDatabaseFactory; SearchStrategy: all) did not find any beans (OnBeanCondition)

   MongoDatabaseFactoryDependentConfiguration#mappingMongoConverter matched:
      - @ConditionalOnMissingBean (types: org.springframework.data.mongodb.core.convert.MongoConverter; SearchStrategy: all) did not find any beans (OnBeanCondition)

   MongoDatabaseFactoryDependentConfiguration#mongoTemplate matched:
      - @ConditionalOnMissingBean (types: org.springframework.data.mongodb.core.MongoOperations; SearchStrategy: all) did not find any beans (OnBeanCondition)

   MongoRepositoriesAutoConfiguration matched:
      - @ConditionalOnClass found required classes 'com.mongodb.client.MongoClient', 'org.springframework.data.mongodb.repository.MongoRepository' (OnClassCondition)
      - @ConditionalOnRepositoryType configured type of 'AUTO' matched required type (OnRepositoryTypeCondition)
      - @ConditionalOnMissingBean (types: org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean,org.springframework.data.mongodb.repository.config.MongoRepositoryConfigurationExtension; SearchStrategy: all) did not find any beans (OnBeanCondition)

   ValidationAutoConfiguration#defaultValidator matched:
      - @ConditionalOnMissingBean (types: jakarta.validation.Validator; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

   CacheAutoConfiguration:
      Did not match:
         - @ConditionalOnBean (types: org.springframework.cache.interceptor.CacheAspectSupport; SearchStrategy: all) did not find any beans of type org.springframework.cache.interceptor.CacheAspectSupport (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.cache.CacheManager' (OnClassCondition)

   CacheMetricsAutoConfiguration:
      Did not match:
         - @ConditionalOnBean (types: org.springframework.cache.CacheManager; SearchStrategy: all) did not find any beans of type org.springframework.cache.CacheManager (OnBeanCondition)

   MongoDataAutoConfiguration#mongoConnectionDetails:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.boot.autoconfigure.mongo.MongoConnectionDetails; SearchStrategy: all) found beans of type 'org.springframework.boot.autoconfigure.mongo.MongoConnectionDetails' mongoConnectionDetails (OnBeanCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration:
      Did not match:
         - @ConditionalOnBean (types: org.springframework.transaction.TransactionManager; SearchStrategy: all) did not find any beans of type org.springframework.transaction.TransactionManager (OnBeanCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration.CglibAutoProxyConfiguration:
      Did not match:
         - Ancestor org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration$EnableTransactionManagementConfiguration did not match (ConditionEvaluationReport.AncestorsMatchedCondition)
      Matched:
         - @ConditionalOnProperty (spring.aop.proxy-target-class=true) matched (OnPropertyCondition)

   TransactionAutoConfiguration.TransactionTemplateConfiguration:
      Did not match:
         - @ConditionalOnSingleCandidate (types: org.springframework.transaction.PlatformTransactionManager; SearchStrategy: all) did not find any beans (OnBeanCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-08-18 12:01:04 [cluster-ClusterId{value='68a2b390d1c22545cd690215', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=103292300, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 12:01:05 GMT+07:00 2025, lastUpdateTimeNanos=46702554275000}
2025-08-18 12:01:04 [cluster-ClusterId{value='68a2b390d1c22545cd690215', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=104893300, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 12:01:05 GMT+07:00 2025, lastUpdateTimeNanos=46702557673400}
2025-08-18 12:01:04 [cluster-ClusterId{value='68a2b390d1c22545cd690215', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=104622800, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 12:01:05 GMT+07:00 2025, lastUpdateTimeNanos=46702562722300}
2025-08-18 12:01:04 [cluster-ClusterId{value='68a2b390d1c22545cd690215', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 12:01:04 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 31908 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 12:01:04 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 12:01:04 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 12:01:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:01:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 12:01:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 MongoDB repository interfaces.
2025-08-18 12:01:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:01:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 12:01:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 0 ms. Found 0 Redis repository interfaces.
2025-08-18 12:01:05 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 12:01:05 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 12:01:05 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 12:01:05 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 12:01:05 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 390 ms
2025-08-18 12:01:05 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsCommandListener@3bc6b18e], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@21bcbd23, com.mongodb.Jep395RecordCodecProvider@627c983c, com.mongodb.KotlinCodecProvider@4f0793a8]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[io.micrometer.core.instrument.binder.mongodb.MongoMetricsConnectionPoolListener@39ad80bc], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 12:01:05 [cluster-ClusterId{value='68a2b391e4b1c967e6958fe1', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:01:05 [cluster-ClusterId{value='68a2b391e4b1c967e6958fe1', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:01:05 [cluster-ClusterId{value='68a2b391e4b1c967e6958fe1', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:01:05 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 260b9cc6-bd2e-42e9-a297-88f5847584fa

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 12:01:05 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 12:01:05 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1500066a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fb85614, org.springframework.security.web.context.SecurityContextHolderFilter@2f062033, org.springframework.security.web.header.HeaderWriterFilter@2a45f228, org.springframework.web.filter.CorsFilter@24933218, org.springframework.security.web.csrf.CsrfFilter@4cbb68cc, org.springframework.security.web.authentication.logout.LogoutFilter@61ccfda8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@53275f3a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7acf8734, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@77a66c6e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5480fcd8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@386cc017, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f1eee4d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@620007a6, org.springframework.security.web.access.ExceptionTranslationFilter@7d17444b, org.springframework.security.web.access.intercept.AuthorizationFilter@73f037cb]
2025-08-18 12:01:05 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-08-18 12:01:05 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-18 12:01:05 [cluster-ClusterId{value='68a2b391e4b1c967e6958fe1', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=108600100, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 12:01:05 GMT+07:00 2025, lastUpdateTimeNanos=46703467848500}
2025-08-18 12:01:05 [cluster-ClusterId{value='68a2b391e4b1c967e6958fe1', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=125674600, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 12:01:05 GMT+07:00 2025, lastUpdateTimeNanos=46703492765000}
2025-08-18 12:01:05 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-18 12:01:05 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-08-18 12:01:08 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 207 class path changes (207 additions, 0 deletions, 0 modifications)
2025-08-18 12:01:08 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 31908 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 12:01:08 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 12:01:08 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 12:01:08 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 2748 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 12:01:08 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 12:01:08 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 12:01:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:01:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 12:01:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 3 MongoDB repository interfaces.
2025-08-18 12:01:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:01:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 12:01:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 3 MongoDB repository interfaces.
2025-08-18 12:01:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:01:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 12:01:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:01:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:01:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:01:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-08-18 12:01:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:01:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 12:01:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:01:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:01:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:01:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2025-08-18 12:01:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 12:01:09 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 12:01:09 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 12:01:09 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 12:01:09 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 493 ms
2025-08-18 12:01:09 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@6f08dccb, com.mongodb.Jep395RecordCodecProvider@307f5e49, com.mongodb.KotlinCodecProvider@55f4768d]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 12:01:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 12:01:09 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 12:01:09 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 12:01:09 [cluster-ClusterId{value='68a2b395d1c22545cd690216', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:01:09 [cluster-ClusterId{value='68a2b395d1c22545cd690216', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:01:09 [cluster-ClusterId{value='68a2b395d1c22545cd690216', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:01:09 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 12:01:09 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 648 ms
2025-08-18 12:01:09 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 12:01:09 [cluster-ClusterId{value='68a2b395d1c22545cd690216', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=52559400, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 12:01:09 GMT+07:00 2025, lastUpdateTimeNanos=46707234512200}
2025-08-18 12:01:09 [cluster-ClusterId{value='68a2b395d1c22545cd690216', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=60010900, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 12:01:09 GMT+07:00 2025, lastUpdateTimeNanos=46707242149900}
2025-08-18 12:01:09 [cluster-ClusterId{value='68a2b395d1c22545cd690216', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 12:01:09 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@21bcbd23, com.mongodb.Jep395RecordCodecProvider@627c983c, com.mongodb.KotlinCodecProvider@4f0793a8]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 12:01:09 [cluster-ClusterId{value='68a2b395e4b1c967e6958fe2', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:01:09 [cluster-ClusterId{value='68a2b395e4b1c967e6958fe2', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:01:09 [cluster-ClusterId{value='68a2b395e4b1c967e6958fe2', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:01:09 [cluster-ClusterId{value='68a2b395d1c22545cd690216', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=130758300, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 12:01:09 GMT+07:00 2025, lastUpdateTimeNanos=46707334279800}
2025-08-18 12:01:09 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-08-18 12:01:09 [cluster-ClusterId{value='68a2b395e4b1c967e6958fe2', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=59320000, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 12:01:09 GMT+07:00 2025, lastUpdateTimeNanos=46707374440000}
2025-08-18 12:01:09 [cluster-ClusterId{value='68a2b395e4b1c967e6958fe2', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=87988400, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 12:01:09 GMT+07:00 2025, lastUpdateTimeNanos=46707399610100}
2025-08-18 12:01:09 [cluster-ClusterId{value='68a2b395e4b1c967e6958fe2', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=103817000, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 12:01:09 GMT+07:00 2025, lastUpdateTimeNanos=46707424782600}
2025-08-18 12:01:09 [cluster-ClusterId{value='68a2b395e4b1c967e6958fe2', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 12:01:09 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 8fe39466-0b4a-49cf-82d9-25cc129fb54c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 12:01:09 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 12:01:09 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: eb8ee58b-7439-4e82-9b87-2294ae7cefe4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 12:01:09 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@508f86a5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a05a340, org.springframework.security.web.context.SecurityContextHolderFilter@169e80bd, org.springframework.security.web.header.HeaderWriterFilter@6724799d, org.springframework.web.filter.CorsFilter@25dbb492, org.springframework.security.web.authentication.logout.LogoutFilter@701b577b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@550249c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@417c4d3a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@510cf7d9, org.springframework.security.web.session.SessionManagementFilter@287f6659, org.springframework.security.web.access.ExceptionTranslationFilter@3ec5b309, org.springframework.security.web.access.intercept.AuthorizationFilter@57dd6f0a]
2025-08-18 12:01:10 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 12:01:10 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-18 12:01:10 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 1.563 seconds (process running for 907.342)
2025-08-18 12:01:10 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 12:01:10 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@177bd432, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52aa8007, org.springframework.security.web.context.SecurityContextHolderFilter@492e21a4, org.springframework.security.web.header.HeaderWriterFilter@62a141d6, org.springframework.web.filter.CorsFilter@68907ec0, org.springframework.security.web.authentication.logout.LogoutFilter@61049208, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c743953, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@14b368fa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5243a2d9, org.springframework.security.web.session.SessionManagementFilter@70e7a0d2, org.springframework.security.web.access.ExceptionTranslationFilter@659a1eac, org.springframework.security.web.access.intercept.AuthorizationFilter@331cda14]
2025-08-18 12:01:10 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 12:01:10 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-18 12:01:10 [restartedMain] ERROR c.n.t.config.MongoIndexConfig - Error creating MongoDB indexes
org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493270, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "sHLDO/mnjKJaxBQ+0BCz+MdAm/8=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493270, "i": 3}}}
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2993) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.execute(DefaultIndexOperations.java:215) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.ensureIndex(DefaultIndexOperations.java:119) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.createProductIndexes(MongoIndexConfig.java:128) ~[classes/:na]
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.lambda$createIndexes$0(MongoIndexConfig.java:33) ~[classes/:na]
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770) ~[spring-boot-3.2.0.jar:3.2.0]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636) ~[na:na]
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342) ~[spring-boot-3.2.0.jar:3.2.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331) ~[spring-boot-3.2.0.jar:3.2.0]
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.2.0.jar:3.2.0]
Caused by: com.mongodb.MongoCommandException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493270, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "sHLDO/mnjKJaxBQ+0BCz+MdAm/8=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493270, "i": 3}}}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:454) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:372) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:765) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:76) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:209) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:115) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:83) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:299) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.executeCommand(SyncOperationHelper.java:210) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$execute$0(CreateIndexesOperation.java:131) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnectionSource(SyncOperationHelper.java:163) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.SyncOperationHelper.withConnection(SyncOperationHelper.java:108) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:129) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:68) ~[mongodb-driver-core-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:173) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:913) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:896) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:891) ~[mongodb-driver-sync-4.11.1.jar:na]
	at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:876) ~[mongodb-driver-sync-4.11.1.jar:na]
	at org.springframework.data.mongodb.core.DefaultIndexOperations.lambda$ensureIndex$0(DefaultIndexOperations.java:129) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:601) ~[spring-data-mongodb-4.2.0.jar:4.2.0]
	... 22 common frames omitted
2025-08-18 12:01:10 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   CacheAutoConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.cache.CacheManager' (OnClassCondition)
      - @ConditionalOnBean (types: org.springframework.cache.interceptor.CacheAspectSupport; SearchStrategy: all) found bean 'cacheInterceptor'; @ConditionalOnMissingBean (names: cacheResolver types: org.springframework.cache.CacheManager; SearchStrategy: all) did not find any beans (OnBeanCondition)

   CacheAutoConfiguration#cacheManagerCustomizers matched:
      - @ConditionalOnMissingBean (types: org.springframework.boot.autoconfigure.cache.CacheManagerCustomizers; SearchStrategy: all) did not find any beans (OnBeanCondition)

   CacheMetricsAutoConfiguration matched:
      - @ConditionalOnBean (types: org.springframework.cache.CacheManager; SearchStrategy: all) found bean 'cacheManager' (OnBeanCondition)

   CacheMetricsRegistrarConfiguration matched:
      - @ConditionalOnBean (types: org.springframework.boot.actuate.metrics.cache.CacheMeterBinderProvider,io.micrometer.core.instrument.MeterRegistry; SearchStrategy: all) found beans 'prometheusMeterRegistry', 'redisCacheMeterBinderProvider' (OnBeanCondition)

   MongoDataAutoConfiguration#mongoConnectionDetails matched:
      - @ConditionalOnMissingBean (types: org.springframework.boot.autoconfigure.mongo.MongoConnectionDetails; SearchStrategy: all) did not find any beans (OnBeanCondition)

   MongoIndexConfig#createIndexes matched:
      - @ConditionalOnProperty (mongodb.indexes.create-on-startup=true) matched (OnPropertyCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration matched:
      - @ConditionalOnBean (types: org.springframework.transaction.TransactionManager; SearchStrategy: all) found bean 'transactionManager'; @ConditionalOnMissingBean (types: org.springframework.transaction.annotation.AbstractTransactionManagementConfiguration; SearchStrategy: all) did not find any beans (OnBeanCondition)

   TransactionAutoConfiguration.EnableTransactionManagementConfiguration.CglibAutoProxyConfiguration matched:
      - @ConditionalOnProperty (spring.aop.proxy-target-class=true) matched (OnPropertyCondition)

   TransactionAutoConfiguration.TransactionTemplateConfiguration matched:
      - @ConditionalOnSingleCandidate (types: org.springframework.transaction.PlatformTransactionManager; SearchStrategy: all) found a single bean 'transactionManager' (OnBeanCondition)

   TransactionAutoConfiguration.TransactionTemplateConfiguration#transactionTemplate matched:
      - @ConditionalOnMissingBean (types: org.springframework.transaction.support.TransactionOperations; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

   ManagementWebSecurityAutoConfiguration:
      Did not match:
         - AllNestedConditions 1 matched 1 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) found beans of type 'org.springframework.security.web.SecurityFilterChain' securityFilterChain; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)
      Matched:
         - found 'session' scope (OnWebApplicationCondition)

   MongoAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.data.mongodb.MongoDatabaseFactory; SearchStrategy: all) found beans of type 'org.springframework.data.mongodb.MongoDatabaseFactory' mongoDbFactory (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'com.mongodb.client.MongoClient' (OnClassCondition)

   MongoDataConfiguration#mongoCustomConversions:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.data.mongodb.core.convert.MongoCustomConversions; SearchStrategy: all) found beans of type 'org.springframework.data.mongodb.core.convert.MongoCustomConversions' customConversions (OnBeanCondition)

   MongoDataConfiguration#mongoManagedTypes:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.data.mongodb.MongoManagedTypes; SearchStrategy: all) found beans of type 'org.springframework.data.mongodb.MongoManagedTypes' mongoManagedTypes (OnBeanCondition)

   MongoDataConfiguration#mongoMappingContext:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.data.mongodb.core.mapping.MongoMappingContext; SearchStrategy: all) found beans of type 'org.springframework.data.mongodb.core.mapping.MongoMappingContext' mongoMappingContext (OnBeanCondition)

   MongoDatabaseFactoryConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.data.mongodb.MongoDatabaseFactory; SearchStrategy: all) found beans of type 'org.springframework.data.mongodb.MongoDatabaseFactory' mongoDbFactory (OnBeanCondition)

   MongoDatabaseFactoryDependentConfiguration#mappingMongoConverter:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.data.mongodb.core.convert.MongoConverter; SearchStrategy: all) found beans of type 'org.springframework.data.mongodb.core.convert.MongoConverter' mappingMongoConverter (OnBeanCondition)

   MongoDatabaseFactoryDependentConfiguration#mongoTemplate:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.data.mongodb.core.MongoOperations; SearchStrategy: all) found beans of type 'org.springframework.data.mongodb.core.MongoOperations' mongoTemplate (OnBeanCondition)

   MongoRepositoriesAutoConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (types: org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean,org.springframework.data.mongodb.repository.config.MongoRepositoryConfigurationExtension; SearchStrategy: all) found beans of type 'org.springframework.data.mongodb.repository.support.MongoRepositoryFactoryBean' &userRepository, &bodyHealthMapRepository, &productRepository and found beans of type 'org.springframework.data.mongodb.repository.config.MongoRepositoryConfigurationExtension' org.springframework.data.mongodb.repository.config.MongoRepositoryConfigurationExtension#0 (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required classes 'com.mongodb.client.MongoClient', 'org.springframework.data.mongodb.repository.MongoRepository' (OnClassCondition)
         - @ConditionalOnRepositoryType configured type of 'AUTO' matched required type (OnRepositoryTypeCondition)

   ValidationAutoConfiguration#defaultValidator:
      Did not match:
         - @ConditionalOnMissingBean (types: jakarta.validation.Validator; SearchStrategy: all) found beans of type 'jakarta.validation.Validator' validator (OnBeanCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-08-18 12:01:11 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-18 12:01:11 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-08-18 12:02:36 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 28388 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 12:02:36 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 12:02:36 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 12:02:36 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 12:02:36 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 12:02:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:02:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 12:02:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 75 ms. Found 3 MongoDB repository interfaces.
2025-08-18 12:02:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:02:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 12:02:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:02:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:02:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:02:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2025-08-18 12:02:38 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 12:02:38 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 12:02:38 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 12:02:38 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 12:02:38 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1430 ms
2025-08-18 12:02:38 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@368fbc66, com.mongodb.Jep395RecordCodecProvider@39260749, com.mongodb.KotlinCodecProvider@63d330f8]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 12:02:38 [cluster-ClusterId{value='68a2b3ee0f048b121ca919fc', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:02:38 [cluster-ClusterId{value='68a2b3ee0f048b121ca919fc', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:02:38 [cluster-ClusterId{value='68a2b3ee0f048b121ca919fc', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:02:38 [restartedMain] WARN  o.s.b.d.a.OptionalLiveReloadServer - Unable to start LiveReload server
2025-08-18 12:02:38 [cluster-ClusterId{value='68a2b3ee0f048b121ca919fc', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=230514800, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 12:02:39 GMT+07:00 2025, lastUpdateTimeNanos=46796694825800}
2025-08-18 12:02:38 [cluster-ClusterId{value='68a2b3ee0f048b121ca919fc', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=236679000, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 12:02:39 GMT+07:00 2025, lastUpdateTimeNanos=46796694825700}
2025-08-18 12:02:38 [cluster-ClusterId{value='68a2b3ee0f048b121ca919fc', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=234123700, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 12:02:39 GMT+07:00 2025, lastUpdateTimeNanos=46796694834900}
2025-08-18 12:02:38 [cluster-ClusterId{value='68a2b3ee0f048b121ca919fc', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 12:02:39 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: ce7468e1-60dd-4c6b-9fbb-abde45585811

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 12:02:39 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 12:02:39 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44d79b9c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a342fa, org.springframework.security.web.context.SecurityContextHolderFilter@27c20128, org.springframework.security.web.header.HeaderWriterFilter@165e484a, org.springframework.web.filter.CorsFilter@129d9878, org.springframework.security.web.authentication.logout.LogoutFilter@14db59e0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a74b02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a5f57a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3af6e69b, org.springframework.security.web.session.SessionManagementFilter@40b7a3f, org.springframework.security.web.access.ExceptionTranslationFilter@68c3354, org.springframework.security.web.access.intercept.AuthorizationFilter@36ee0b8f]
2025-08-18 12:02:39 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2025-08-18 12:02:40 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-18 12:02:40 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2025-08-18 12:05:25 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 14888 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 12:05:25 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 12:05:25 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 12:05:25 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 12:05:25 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 12:05:25 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:05:25 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 12:05:25 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 3 MongoDB repository interfaces.
2025-08-18 12:05:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:05:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 12:05:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:05:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:05:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:05:26 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2025-08-18 12:05:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 12:05:26 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 12:05:26 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 12:05:26 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 12:05:26 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1405 ms
2025-08-18 12:05:26 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@312a889b, com.mongodb.Jep395RecordCodecProvider@6594b9c3, com.mongodb.KotlinCodecProvider@6f08dccb]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 12:05:27 [cluster-ClusterId{value='68a2b496d7b94331b8012b06', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:05:27 [cluster-ClusterId{value='68a2b496d7b94331b8012b06', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:05:27 [cluster-ClusterId{value='68a2b496d7b94331b8012b06', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:05:27 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 12:05:27 [cluster-ClusterId{value='68a2b496d7b94331b8012b06', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=212012300, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 12:05:27 GMT+07:00 2025, lastUpdateTimeNanos=46965270685700}
2025-08-18 12:05:27 [cluster-ClusterId{value='68a2b496d7b94331b8012b06', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=232678600, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 12:05:27 GMT+07:00 2025, lastUpdateTimeNanos=46965270685800}
2025-08-18 12:05:27 [cluster-ClusterId{value='68a2b496d7b94331b8012b06', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=223347700, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 12:05:27 GMT+07:00 2025, lastUpdateTimeNanos=46965270722700}
2025-08-18 12:05:27 [cluster-ClusterId{value='68a2b496d7b94331b8012b06', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 12:05:27 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: b2c4d419-7171-4a9e-baa3-cc78b62fec71

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 12:05:27 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 12:05:28 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@17388a05, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fd3f0d6, org.springframework.security.web.context.SecurityContextHolderFilter@71a31d40, org.springframework.security.web.header.HeaderWriterFilter@6ddaf18f, org.springframework.web.filter.CorsFilter@d3ae5ca, org.springframework.security.web.authentication.logout.LogoutFilter@4e280c48, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55ccbcdb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2cd57d4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@405b92f3, org.springframework.security.web.session.SessionManagementFilter@6757a00e, org.springframework.security.web.access.ExceptionTranslationFilter@524540fb, org.springframework.security.web.access.intercept.AuthorizationFilter@76dbd31f]
2025-08-18 12:05:28 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-18 12:05:28 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 3.431 seconds (process running for 3.761)
2025-08-18 12:05:28 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 12:05:28 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 12:05:28 [restartedMain] ERROR c.n.t.config.MongoIndexConfig - Error creating MongoDB indexes
org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493529, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "XZlxQR8Xsu9iVuSo6PMH693Kqfs=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493529, "i": 1}}}
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135)
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2993)
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.execute(DefaultIndexOperations.java:215)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.ensureIndex(DefaultIndexOperations.java:119)
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.createProductIndexes(MongoIndexConfig.java:128)
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.lambda$createIndexes$0(MongoIndexConfig.java:33)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mongodb.MongoCommandException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493529, "i": 1}}, "signature": {"hash": {"$binary": {"base64": "XZlxQR8Xsu9iVuSo6PMH693Kqfs=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493529, "i": 1}}}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:454)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:372)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:765)
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:76)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:209)
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:115)
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:83)
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74)
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:299)
	at com.mongodb.internal.operation.SyncOperationHelper.executeCommand(SyncOperationHelper.java:210)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$execute$0(CreateIndexesOperation.java:131)
	at com.mongodb.internal.operation.SyncOperationHelper.withConnectionSource(SyncOperationHelper.java:163)
	at com.mongodb.internal.operation.SyncOperationHelper.withConnection(SyncOperationHelper.java:108)
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:129)
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:68)
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:173)
	at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:913)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:896)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:891)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:876)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.lambda$ensureIndex$0(DefaultIndexOperations.java:129)
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:601)
	... 22 common frames omitted
2025-08-18 12:06:30 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 24568 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 12:06:30 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 12:06:30 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 12:06:30 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 12:06:30 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 12:06:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:06:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 12:06:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 71 ms. Found 3 MongoDB repository interfaces.
2025-08-18 12:06:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:06:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 12:06:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:06:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:06:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:06:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2025-08-18 12:06:32 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 12:06:32 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 12:06:32 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 12:06:32 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 12:06:32 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1403 ms
2025-08-18 12:06:32 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@d585a4b, com.mongodb.Jep395RecordCodecProvider@789b9052, com.mongodb.KotlinCodecProvider@3476dc24]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 12:06:32 [cluster-ClusterId{value='68a2b4d8a13a99148cfd545c', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:06:32 [cluster-ClusterId{value='68a2b4d8a13a99148cfd545c', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:06:32 [cluster-ClusterId{value='68a2b4d8a13a99148cfd545c', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:06:32 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 12:06:32 [cluster-ClusterId{value='68a2b4d8a13a99148cfd545c', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=243816900, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 12:06:32 GMT+07:00 2025, lastUpdateTimeNanos=47030714767300}
2025-08-18 12:06:32 [cluster-ClusterId{value='68a2b4d8a13a99148cfd545c', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=247665700, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 12:06:32 GMT+07:00 2025, lastUpdateTimeNanos=47030714767300}
2025-08-18 12:06:32 [cluster-ClusterId{value='68a2b4d8a13a99148cfd545c', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=242135500, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 12:06:32 GMT+07:00 2025, lastUpdateTimeNanos=47030714767300}
2025-08-18 12:06:32 [cluster-ClusterId{value='68a2b4d8a13a99148cfd545c', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 12:06:33 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: cd6724f0-559e-4bf6-8cb6-5a28255c9c6d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 12:06:33 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 12:06:33 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5e073cb3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46f0ea67, org.springframework.security.web.context.SecurityContextHolderFilter@145e6569, org.springframework.security.web.header.HeaderWriterFilter@7634aa16, org.springframework.web.filter.CorsFilter@67716e6e, org.springframework.security.web.authentication.logout.LogoutFilter@7bb8ade0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@283e0159, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64d30d06, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66dbf326, org.springframework.security.web.session.SessionManagementFilter@798fed0, org.springframework.security.web.access.ExceptionTranslationFilter@7ed2e2c5, org.springframework.security.web.access.intercept.AuthorizationFilter@68fe0226]
2025-08-18 12:06:33 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-18 12:06:33 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 3.577 seconds (process running for 4.138)
2025-08-18 12:06:33 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 12:06:34 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 12:06:34 [restartedMain] ERROR c.n.t.config.MongoIndexConfig - Error creating MongoDB indexes
org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493594, "i": 7}}, "signature": {"hash": {"$binary": {"base64": "fdFnA9TscdwGgzXL+ZD8DXdhxmQ=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493594, "i": 7}}}
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135)
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2993)
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.execute(DefaultIndexOperations.java:215)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.ensureIndex(DefaultIndexOperations.java:119)
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.createProductIndexes(MongoIndexConfig.java:128)
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.lambda$createIndexes$0(MongoIndexConfig.java:33)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mongodb.MongoCommandException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493594, "i": 7}}, "signature": {"hash": {"$binary": {"base64": "fdFnA9TscdwGgzXL+ZD8DXdhxmQ=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493594, "i": 7}}}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:454)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:372)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:765)
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:76)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:209)
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:115)
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:83)
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74)
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:299)
	at com.mongodb.internal.operation.SyncOperationHelper.executeCommand(SyncOperationHelper.java:210)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$execute$0(CreateIndexesOperation.java:131)
	at com.mongodb.internal.operation.SyncOperationHelper.withConnectionSource(SyncOperationHelper.java:163)
	at com.mongodb.internal.operation.SyncOperationHelper.withConnection(SyncOperationHelper.java:108)
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:129)
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:68)
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:173)
	at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:913)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:896)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:891)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:876)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.lambda$ensureIndex$0(DefaultIndexOperations.java:129)
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:601)
	... 22 common frames omitted
2025-08-18 12:06:34 [RMI TCP Connection(3)-26.13.152.190] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-18 12:06:34 [RMI TCP Connection(3)-26.13.152.190] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-18 12:06:34 [RMI TCP Connection(3)-26.13.152.190] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-18 12:06:34 [RMI TCP Connection(1)-26.13.152.190] WARN  o.s.b.a.d.redis.RedisHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Cannot get Jedis connection
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:873)
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.getConnection(JedisConnectionFactory.java:835)
	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:194)
	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:143)
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:104)
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:91)
	at org.springframework.boot.actuate.data.redis.RedisHealthIndicator.doHealthCheck(RedisHealthIndicator.java:49)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:82)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:76)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:124)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:803)
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1520)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1348)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1435)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:841)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)
	at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: redis.clients.jedis.exceptions.JedisConnectionException: Failed to connect to any host resolved for DNS name.
	at redis.clients.jedis.DefaultJedisSocketFactory.connectToFirstSuccessfulHost(DefaultJedisSocketFactory.java:63)
	at redis.clients.jedis.DefaultJedisSocketFactory.createSocket(DefaultJedisSocketFactory.java:87)
	at redis.clients.jedis.Connection.connect(Connection.java:195)
	at redis.clients.jedis.Connection.initializeFromClientConfig(Connection.java:393)
	at redis.clients.jedis.Connection.<init>(Connection.java:68)
	at redis.clients.jedis.Jedis.<init>(Jedis.java:220)
	at redis.clients.jedis.JedisFactory.makeObject(JedisFactory.java:170)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:566)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:306)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:233)
	at redis.clients.jedis.util.Pool.getResource(Pool.java:38)
	at redis.clients.jedis.JedisPool.getResource(JedisPool.java:378)
	at redis.clients.jedis.JedisPool.getResource(JedisPool.java:17)
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:863)
	... 46 common frames omitted
	Suppressed: java.net.ConnectException: Connection refused: getsockopt
		at java.base/sun.nio.ch.Net.pollConnect(Native Method)
		at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
		at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
		at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
		at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
		at java.base/java.net.Socket.connect(Socket.java:760)
		at redis.clients.jedis.DefaultJedisSocketFactory.connectToFirstSuccessfulHost(DefaultJedisSocketFactory.java:73)
		... 59 common frames omitted
	Suppressed: java.net.ConnectException: Connection refused: getsockopt
		at java.base/sun.nio.ch.Net.pollConnect(Native Method)
		at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
		at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
		at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
		at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
		at java.base/java.net.Socket.connect(Socket.java:760)
		at redis.clients.jedis.DefaultJedisSocketFactory.connectToFirstSuccessfulHost(DefaultJedisSocketFactory.java:73)
		... 59 common frames omitted
2025-08-18 12:06:41 [RMI TCP Connection(1)-26.13.152.190] WARN  o.s.b.a.mail.MailHealthIndicator - Mail health check failed
jakarta.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. For more information, go to
535 5.7.8  https://support.google.com/mail/?p=BadCredentials 98e67ed59e1d1-323439af33bsm6842036a91.14 - gsmtp

	at org.eclipse.angus.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:954)
	at org.eclipse.angus.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:865)
	at org.eclipse.angus.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:769)
	at jakarta.mail.Service.connect(Service.java:345)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:480)
	at org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:360)
	at org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:52)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:82)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:76)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:124)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:803)
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1520)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1348)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1435)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:841)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)
	at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-08-18 12:07:04 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 15708 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 12:07:04 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 12:07:04 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 12:07:04 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 12:07:04 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 12:07:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:07:04 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 12:07:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 76 ms. Found 3 MongoDB repository interfaces.
2025-08-18 12:07:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:07:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 12:07:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:07:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:07:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:07:05 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2025-08-18 12:07:05 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 12:07:05 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 12:07:05 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 12:07:05 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 12:07:05 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1401 ms
2025-08-18 12:07:06 [cluster-ClusterId{value='68a2b4faac470744692a81c6', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:07:06 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@354446a3, com.mongodb.Jep395RecordCodecProvider@7f1f63ff, com.mongodb.KotlinCodecProvider@75966496]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 12:07:06 [cluster-ClusterId{value='68a2b4faac470744692a81c6', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:07:06 [cluster-ClusterId{value='68a2b4faac470744692a81c6', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:07:06 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 12:07:06 [cluster-ClusterId{value='68a2b4faac470744692a81c6', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=225714600, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 12:07:06 GMT+07:00 2025, lastUpdateTimeNanos=47064246116000}
2025-08-18 12:07:06 [cluster-ClusterId{value='68a2b4faac470744692a81c6', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=222564400, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 12:07:06 GMT+07:00 2025, lastUpdateTimeNanos=47064246115700}
2025-08-18 12:07:06 [cluster-ClusterId{value='68a2b4faac470744692a81c6', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=217091600, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 12:07:06 GMT+07:00 2025, lastUpdateTimeNanos=47064246116000}
2025-08-18 12:07:06 [cluster-ClusterId{value='68a2b4faac470744692a81c6', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 12:07:06 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 84d06317-4f89-4584-ac26-23a2ac4e28bc

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 12:07:07 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 12:07:07 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@67bb5999, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21a62e5c, org.springframework.security.web.context.SecurityContextHolderFilter@13981815, org.springframework.security.web.header.HeaderWriterFilter@3d5ba6f9, org.springframework.web.filter.CorsFilter@7ba15f73, org.springframework.security.web.authentication.logout.LogoutFilter@e1449da, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3cae2ce3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70ce5bbf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c5bac12, org.springframework.security.web.session.SessionManagementFilter@42d8a04, org.springframework.security.web.access.ExceptionTranslationFilter@18dc1f84, org.springframework.security.web.access.intercept.AuthorizationFilter@3bdfa082]
2025-08-18 12:07:07 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-18 12:07:07 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 3.445 seconds (process running for 4.005)
2025-08-18 12:07:07 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 12:07:07 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 12:07:07 [restartedMain] ERROR c.n.t.config.MongoIndexConfig - Error creating MongoDB indexes
org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493628, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "vj5GA0nFYt8sN55lyL4WP73fTLM=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493628, "i": 3}}}
	at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:135)
	at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2993)
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:603)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.execute(DefaultIndexOperations.java:215)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.ensureIndex(DefaultIndexOperations.java:119)
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.createProductIndexes(MongoIndexConfig.java:128)
	at com.nepnhaxua.thucduong.config.MongoIndexConfig.lambda$createIndexes$0(MongoIndexConfig.java:33)
	at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:786)
	at org.springframework.boot.SpringApplication.lambda$callRunners$3(SpringApplication.java:770)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.SortedOps$SizedRefSortingSink.end(SortedOps.java:357)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:571)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:560)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:265)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:636)
	at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:765)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:330)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1342)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1331)
	at com.nepnhaxua.thucduong.ThucduongApplication.main(ThucduongApplication.java:10)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mongodb.MongoCommandException: Command failed with error 67 (CannotCreateIndex): 'Error in specification { key: { name: "text", searchKeywords: "text", tags: "text", description.short: "text", ingredients.name: "text", description.detailed: "text" }, name: "name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: "vietnamese", v: 2 } :: caused by :: default_language is not valid' on server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017. The full response is {"ok": 0.0, "errmsg": "Error in specification { key: { name: \"text\", searchKeywords: \"text\", tags: \"text\", description.short: \"text\", ingredients.name: \"text\", description.detailed: \"text\" }, name: \"name_text_searchKeywords_text_tags_text_description.short_text_ingredients.name_text_description.detailed_text\", weights: { name: 10.0, searchKeywords: 8.0, tags: 5.0, description.short: 3.0, ingredients.name: 3.0 }, default_language: \"vietnamese\", v: 2 } :: caused by :: default_language is not valid", "code": 67, "codeName": "CannotCreateIndex", "$clusterTime": {"clusterTime": {"$timestamp": {"t": 1755493628, "i": 3}}, "signature": {"hash": {"$binary": {"base64": "vj5GA0nFYt8sN55lyL4WP73fTLM=", "subType": "00"}}, "keyId": 7501333237717794817}}, "operationTime": {"$timestamp": {"t": 1755493628, "i": 3}}}
	at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:205)
	at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:454)
	at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:372)
	at com.mongodb.internal.connection.UsageTrackingInternalConnection.sendAndReceive(UsageTrackingInternalConnection.java:114)
	at com.mongodb.internal.connection.DefaultConnectionPool$PooledConnection.sendAndReceive(DefaultConnectionPool.java:765)
	at com.mongodb.internal.connection.CommandProtocolImpl.execute(CommandProtocolImpl.java:76)
	at com.mongodb.internal.connection.DefaultServer$DefaultServerProtocolExecutor.execute(DefaultServer.java:209)
	at com.mongodb.internal.connection.DefaultServerConnection.executeProtocol(DefaultServerConnection.java:115)
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:83)
	at com.mongodb.internal.connection.DefaultServerConnection.command(DefaultServerConnection.java:74)
	at com.mongodb.internal.connection.DefaultServer$OperationCountTrackingConnection.command(DefaultServer.java:299)
	at com.mongodb.internal.operation.SyncOperationHelper.executeCommand(SyncOperationHelper.java:210)
	at com.mongodb.internal.operation.CreateIndexesOperation.lambda$execute$0(CreateIndexesOperation.java:131)
	at com.mongodb.internal.operation.SyncOperationHelper.withConnectionSource(SyncOperationHelper.java:163)
	at com.mongodb.internal.operation.SyncOperationHelper.withConnection(SyncOperationHelper.java:108)
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:129)
	at com.mongodb.internal.operation.CreateIndexesOperation.execute(CreateIndexesOperation.java:68)
	at com.mongodb.client.internal.MongoClientDelegate$DelegateOperationExecutor.execute(MongoClientDelegate.java:173)
	at com.mongodb.client.internal.MongoCollectionImpl.executeCreateIndexes(MongoCollectionImpl.java:913)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:896)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndexes(MongoCollectionImpl.java:891)
	at com.mongodb.client.internal.MongoCollectionImpl.createIndex(MongoCollectionImpl.java:876)
	at org.springframework.data.mongodb.core.DefaultIndexOperations.lambda$ensureIndex$0(DefaultIndexOperations.java:129)
	at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:601)
	... 22 common frames omitted
2025-08-18 12:07:08 [RMI TCP Connection(2)-26.13.152.190] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-18 12:07:08 [RMI TCP Connection(2)-26.13.152.190] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-18 12:07:08 [RMI TCP Connection(2)-26.13.152.190] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-08-18 12:07:08 [RMI TCP Connection(1)-26.13.152.190] WARN  o.s.b.a.d.redis.RedisHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Cannot get Jedis connection
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:873)
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.getConnection(JedisConnectionFactory.java:835)
	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:194)
	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:143)
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:104)
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:91)
	at org.springframework.boot.actuate.data.redis.RedisHealthIndicator.doHealthCheck(RedisHealthIndicator.java:49)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:82)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:76)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:124)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:803)
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1520)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1348)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1435)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:841)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)
	at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: redis.clients.jedis.exceptions.JedisConnectionException: Failed to connect to any host resolved for DNS name.
	at redis.clients.jedis.DefaultJedisSocketFactory.connectToFirstSuccessfulHost(DefaultJedisSocketFactory.java:63)
	at redis.clients.jedis.DefaultJedisSocketFactory.createSocket(DefaultJedisSocketFactory.java:87)
	at redis.clients.jedis.Connection.connect(Connection.java:195)
	at redis.clients.jedis.Connection.initializeFromClientConfig(Connection.java:393)
	at redis.clients.jedis.Connection.<init>(Connection.java:68)
	at redis.clients.jedis.Jedis.<init>(Jedis.java:220)
	at redis.clients.jedis.JedisFactory.makeObject(JedisFactory.java:170)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:566)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:306)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:233)
	at redis.clients.jedis.util.Pool.getResource(Pool.java:38)
	at redis.clients.jedis.JedisPool.getResource(JedisPool.java:378)
	at redis.clients.jedis.JedisPool.getResource(JedisPool.java:17)
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:863)
	... 46 common frames omitted
	Suppressed: java.net.ConnectException: Connection refused: getsockopt
		at java.base/sun.nio.ch.Net.pollConnect(Native Method)
		at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
		at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
		at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
		at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
		at java.base/java.net.Socket.connect(Socket.java:760)
		at redis.clients.jedis.DefaultJedisSocketFactory.connectToFirstSuccessfulHost(DefaultJedisSocketFactory.java:73)
		... 59 common frames omitted
	Suppressed: java.net.ConnectException: Connection refused: getsockopt
		at java.base/sun.nio.ch.Net.pollConnect(Native Method)
		at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
		at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
		at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
		at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
		at java.base/java.net.Socket.connect(Socket.java:760)
		at redis.clients.jedis.DefaultJedisSocketFactory.connectToFirstSuccessfulHost(DefaultJedisSocketFactory.java:73)
		... 59 common frames omitted
2025-08-18 12:07:15 [RMI TCP Connection(1)-26.13.152.190] WARN  o.s.b.a.mail.MailHealthIndicator - Mail health check failed
jakarta.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. For more information, go to
535 5.7.8  https://support.google.com/mail/?p=BadCredentials d2e1a72fcca58-76e452927f1sm6164407b3a.47 - gsmtp

	at org.eclipse.angus.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:954)
	at org.eclipse.angus.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:865)
	at org.eclipse.angus.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:769)
	at jakarta.mail.Service.connect(Service.java:345)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:480)
	at org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:360)
	at org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:52)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:82)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:76)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:124)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:803)
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1520)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1348)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1435)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:841)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)
	at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-08-18 12:14:08 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Starting ThucduongApplication using Java 23.0.1 with PID 27500 (C:\Users\ADMIN\OneDrive\Desktop\thucduong\target\classes started by ADMIN in C:\Users\ADMIN\OneDrive\Desktop\thucduong)
2025-08-18 12:14:08 [restartedMain] DEBUG c.n.thucduong.ThucduongApplication - Running with Spring Boot v3.2.0, Spring v6.1.1
2025-08-18 12:14:08 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-18 12:14:08 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-18 12:14:08 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-18 12:14:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:14:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-08-18 12:14:08 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 74 ms. Found 3 MongoDB repository interfaces.
2025-08-18 12:14:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-18 12:14:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-18 12:14:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.BodyHealthMapRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:14:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:14:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.nepnhaxua.thucduong.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-18 12:14:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-08-18 12:14:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-18 12:14:09 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-18 12:14:09 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-08-18 12:14:09 [restartedMain] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-08-18 12:14:09 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1392 ms
2025-08-18 12:14:09 [restartedMain] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync", "version": "4.11.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/23.0.1+11-39"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=majority, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='hiennnhe187362', source='admin', password=<hidden>, mechanismProperties=<hidden>}, transportSettings=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@7732289f, com.mongodb.Jep395RecordCodecProvider@33a3c6ff, com.mongodb.KotlinCodecProvider@359805cf]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[127.0.0.1:27017], srvHost=cluster0.0kvjpzj.mongodb.net, srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='atlas-uqcm2c-shard-0', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='15 ms'}, socketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=5000, readTimeoutMS=5000, receiveBufferSize=0, proxySettings=ProxySettings{host=null, port=null, username=null, password=null}}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=10, maxWaitTimeMS=5000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=10000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=UNSPECIFIED, serverApi=null, autoEncryptionSettings=null, dnsClient=null, inetAddressResolver=null, contextProvider=null}
2025-08-18 12:14:09 [cluster-ClusterId{value='68a2b6a1e3bb835eeece6ef6', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:14:09 [cluster-ClusterId{value='68a2b6a1e3bb835eeece6ef6', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:14:09 [cluster-ClusterId{value='68a2b6a1e3bb835eeece6ef6', description='null'}-srv-cluster0.0kvjpzj.mongodb.net] INFO  org.mongodb.driver.cluster - Adding discovered server ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 to client view of cluster
2025-08-18 12:14:10 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-18 12:14:10 [cluster-ClusterId{value='68a2b6a1e3bb835eeece6ef6', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=246422300, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az2'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=7fffffff0000000000000032, setVersion=7, topologyVersion=TopologyVersion{processId=68a09f318d0ff0e454173d5c, counter=6}, lastWriteDate=Mon Aug 18 12:14:10 GMT+07:00 2025, lastUpdateTimeNanos=47488229032400}
2025-08-18 12:14:10 [cluster-ClusterId{value='68a2b6a1e3bb835eeece6ef6', description='null'}-ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=238212900, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az3'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a0a24e7a3e3076ca3cd539, counter=3}, lastWriteDate=Mon Aug 18 12:14:10 GMT+07:00 2025, lastUpdateTimeNanos=47488229032400}
2025-08-18 12:14:10 [cluster-ClusterId{value='68a2b6a1e3bb835eeece6ef6', description='null'}-ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, type=REPLICA_SET_SECONDARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=241146400, setName='atlas-uqcm2c-shard-0', canonicalAddress=ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017, hosts=[ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-02.0kvjpzj.mongodb.net:27017, ac-lilk9ia-shard-00-00.0kvjpzj.mongodb.net:27017], passives=[], arbiters=[], primary='ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017', tagSet=TagSet{[Tag{name='availabilityZone', value='ape1-az1'}, Tag{name='diskState', value='READY'}, Tag{name='nodeType', value='ELECTABLE'}, Tag{name='provider', value='AWS'}, Tag{name='region', value='AP_EAST_1'}, Tag{name='workloadType', value='OPERATIONAL'}]}, electionId=null, setVersion=7, topologyVersion=TopologyVersion{processId=68a09ca006e49f0ae8a2d68e, counter=4}, lastWriteDate=Mon Aug 18 12:14:10 GMT+07:00 2025, lastUpdateTimeNanos=47488229032500}
2025-08-18 12:14:10 [cluster-ClusterId{value='68a2b6a1e3bb835eeece6ef6', description='null'}-ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017] INFO  org.mongodb.driver.cluster - Discovered replica set primary ac-lilk9ia-shard-00-01.0kvjpzj.mongodb.net:27017 with max election id 7fffffff0000000000000032 and max set version 7
2025-08-18 12:14:10 [restartedMain] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 1e517eaa-3e0e-42af-9e78-0a4dd3508974

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-08-18 12:14:10 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoint(s) beneath base path '/actuator'
2025-08-18 12:14:10 [restartedMain] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@9affb30, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e2aac12, org.springframework.security.web.context.SecurityContextHolderFilter@64d30d06, org.springframework.security.web.header.HeaderWriterFilter@530b7980, org.springframework.web.filter.CorsFilter@3836b58d, org.springframework.security.web.authentication.logout.LogoutFilter@3f8bdbfc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@545c14eb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c30e3f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f48c062, org.springframework.security.web.session.SessionManagementFilter@145e6569, org.springframework.security.web.access.ExceptionTranslationFilter@306d445e, org.springframework.security.web.access.intercept.AuthorizationFilter@5e073cb3]
2025-08-18 12:14:11 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-08-18 12:14:11 [restartedMain] INFO  c.n.thucduong.ThucduongApplication - Started ThucduongApplication in 3.479 seconds (process running for 3.947)
2025-08-18 12:14:11 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Starting MongoDB index creation...
2025-08-18 12:14:11 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - User indexes created
2025-08-18 12:14:11 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Product indexes created
2025-08-18 12:14:11 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Order indexes created
2025-08-18 12:14:12 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Cart indexes created
2025-08-18 12:14:12 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Review indexes created
2025-08-18 12:14:12 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Blog indexes created
2025-08-18 12:14:12 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Analytics indexes created
2025-08-18 12:14:12 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - Chat indexes created
2025-08-18 12:14:12 [restartedMain] INFO  c.n.t.config.MongoIndexConfig - MongoDB indexes created successfully
2025-08-18 12:14:13 [RMI TCP Connection(4)-26.13.152.190] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-18 12:14:13 [RMI TCP Connection(4)-26.13.152.190] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-18 12:14:13 [RMI TCP Connection(4)-26.13.152.190] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-18 12:14:13 [RMI TCP Connection(2)-26.13.152.190] WARN  o.s.b.a.d.redis.RedisHealthIndicator - Redis health check failed
org.springframework.data.redis.RedisConnectionFailureException: Cannot get Jedis connection
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:873)
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.getConnection(JedisConnectionFactory.java:835)
	at org.springframework.data.redis.core.RedisConnectionUtils.fetchConnection(RedisConnectionUtils.java:194)
	at org.springframework.data.redis.core.RedisConnectionUtils.doGetConnection(RedisConnectionUtils.java:143)
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:104)
	at org.springframework.data.redis.core.RedisConnectionUtils.getConnection(RedisConnectionUtils.java:91)
	at org.springframework.boot.actuate.data.redis.RedisHealthIndicator.doHealthCheck(RedisHealthIndicator.java:49)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:82)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:76)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:124)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:803)
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1520)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1348)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1435)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:841)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)
	at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: redis.clients.jedis.exceptions.JedisConnectionException: Failed to connect to any host resolved for DNS name.
	at redis.clients.jedis.DefaultJedisSocketFactory.connectToFirstSuccessfulHost(DefaultJedisSocketFactory.java:63)
	at redis.clients.jedis.DefaultJedisSocketFactory.createSocket(DefaultJedisSocketFactory.java:87)
	at redis.clients.jedis.Connection.connect(Connection.java:195)
	at redis.clients.jedis.Connection.initializeFromClientConfig(Connection.java:393)
	at redis.clients.jedis.Connection.<init>(Connection.java:68)
	at redis.clients.jedis.Jedis.<init>(Jedis.java:220)
	at redis.clients.jedis.JedisFactory.makeObject(JedisFactory.java:170)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:566)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:306)
	at org.apache.commons.pool2.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:233)
	at redis.clients.jedis.util.Pool.getResource(Pool.java:38)
	at redis.clients.jedis.JedisPool.getResource(JedisPool.java:378)
	at redis.clients.jedis.JedisPool.getResource(JedisPool.java:17)
	at org.springframework.data.redis.connection.jedis.JedisConnectionFactory.fetchJedisConnector(JedisConnectionFactory.java:863)
	... 46 common frames omitted
	Suppressed: java.net.ConnectException: Connection refused: getsockopt
		at java.base/sun.nio.ch.Net.pollConnect(Native Method)
		at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
		at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
		at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
		at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
		at java.base/java.net.Socket.connect(Socket.java:760)
		at redis.clients.jedis.DefaultJedisSocketFactory.connectToFirstSuccessfulHost(DefaultJedisSocketFactory.java:73)
		... 59 common frames omitted
	Suppressed: java.net.ConnectException: Connection refused: getsockopt
		at java.base/sun.nio.ch.Net.pollConnect(Native Method)
		at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
		at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
		at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
		at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
		at java.base/java.net.Socket.connect(Socket.java:760)
		at redis.clients.jedis.DefaultJedisSocketFactory.connectToFirstSuccessfulHost(DefaultJedisSocketFactory.java:73)
		... 59 common frames omitted
2025-08-18 12:14:20 [RMI TCP Connection(2)-26.13.152.190] WARN  o.s.b.a.mail.MailHealthIndicator - Mail health check failed
jakarta.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. For more information, go to
535 5.7.8  https://support.google.com/mail/?p=BadCredentials d9443c01a7336-2446d5ae524sm68343935ad.168 - gsmtp

	at org.eclipse.angus.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:954)
	at org.eclipse.angus.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:865)
	at org.eclipse.angus.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:769)
	at jakarta.mail.Service.connect(Service.java:345)
	at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:480)
	at org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:360)
	at org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:52)
	at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)
	at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:82)
	at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)
	at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:76)
	at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:66)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281)
	at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)
	at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:124)
	at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)
	at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:803)
	at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:802)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1520)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1348)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1435)
	at java.management.rmi/javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:841)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.rmi/sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:360)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:200)
	at java.rmi/sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)
	at java.rmi/sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:598)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:844)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:721)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at java.rmi/sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:720)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1575)
